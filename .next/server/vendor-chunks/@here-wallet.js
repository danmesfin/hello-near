"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@here-wallet";
exports.ids = ["vendor-chunks/@here-wallet"];
exports.modules = {

/***/ "(ssr)/./node_modules/@here-wallet/core/build/HereKeyStore.js":
/*!**************************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/HereKeyStore.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.HereKeyStore = void 0;\nconst key_pair_1 = __webpack_require__(/*! near-api-js/lib/utils/key_pair */ \"(ssr)/./node_modules/near-api-js/lib/utils/key_pair.js\");\nconst JSONStorage_1 = __webpack_require__(/*! ./JSONStorage */ \"(ssr)/./node_modules/@here-wallet/core/build/JSONStorage.js\");\nclass HereKeyStore {\n    constructor(storage = new JSONStorage_1.StateStorage()) {\n        this.storage = storage;\n    }\n    setActiveAccount(network, id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const state = yield this.storage.getState(network);\n            state.activeAccount = id;\n            this.storage.setState(network, state);\n        });\n    }\n    setKey(networkId, accountId, keyPair) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const state = yield this.storage.getState(networkId);\n            state.accounts[accountId] = keyPair.toString();\n            this.storage.setState(networkId, state);\n        });\n    }\n    getAccounts(network) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const state = yield this.storage.getState(network);\n            return Object.keys(state.accounts);\n        });\n    }\n    getActiveAccount(network) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const state = yield this.storage.getState(network);\n            return state.activeAccount;\n        });\n    }\n    getKey(networkId, accountId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const state = yield this.storage.getState(networkId);\n            const privateKey = state.accounts[accountId];\n            if (privateKey == null)\n                throw Error(`For ${accountId} in ${networkId} network key not found`);\n            const keyPair = key_pair_1.KeyPair.fromString(privateKey);\n            return keyPair;\n        });\n    }\n    removeKey(networkId, accountId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let state = yield this.storage.getState(networkId);\n            if (state.activeAccount === accountId) {\n                state.activeAccount = null;\n            }\n            delete state.accounts[accountId];\n            this.storage.setState(networkId, state);\n        });\n    }\n    getNetworks() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let state = yield this.storage.getFullState();\n            return Object.keys(state.accounts);\n        });\n    }\n    clear() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.storage.clear();\n        });\n    }\n}\nexports.HereKeyStore = HereKeyStore;\n//# sourceMappingURL=HereKeyStore.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvSGVyZUtleVN0b3JlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQkFBb0I7QUFDcEIsbUJBQW1CLG1CQUFPLENBQUMsOEZBQWdDO0FBQzNELHNCQUFzQixtQkFBTyxDQUFDLGtGQUFlO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxXQUFXLEtBQUssV0FBVztBQUM5RDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWxsby1uZWFyLy4vbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL0hlcmVLZXlTdG9yZS5qcz84YzI5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkhlcmVLZXlTdG9yZSA9IHZvaWQgMDtcbmNvbnN0IGtleV9wYWlyXzEgPSByZXF1aXJlKFwibmVhci1hcGktanMvbGliL3V0aWxzL2tleV9wYWlyXCIpO1xuY29uc3QgSlNPTlN0b3JhZ2VfMSA9IHJlcXVpcmUoXCIuL0pTT05TdG9yYWdlXCIpO1xuY2xhc3MgSGVyZUtleVN0b3JlIHtcbiAgICBjb25zdHJ1Y3RvcihzdG9yYWdlID0gbmV3IEpTT05TdG9yYWdlXzEuU3RhdGVTdG9yYWdlKCkpIHtcbiAgICAgICAgdGhpcy5zdG9yYWdlID0gc3RvcmFnZTtcbiAgICB9XG4gICAgc2V0QWN0aXZlQWNjb3VudChuZXR3b3JrLCBpZCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB5aWVsZCB0aGlzLnN0b3JhZ2UuZ2V0U3RhdGUobmV0d29yayk7XG4gICAgICAgICAgICBzdGF0ZS5hY3RpdmVBY2NvdW50ID0gaWQ7XG4gICAgICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0U3RhdGUobmV0d29yaywgc3RhdGUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2V0S2V5KG5ldHdvcmtJZCwgYWNjb3VudElkLCBrZXlQYWlyKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHlpZWxkIHRoaXMuc3RvcmFnZS5nZXRTdGF0ZShuZXR3b3JrSWQpO1xuICAgICAgICAgICAgc3RhdGUuYWNjb3VudHNbYWNjb3VudElkXSA9IGtleVBhaXIudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZS5zZXRTdGF0ZShuZXR3b3JrSWQsIHN0YXRlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldEFjY291bnRzKG5ldHdvcmspIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0geWllbGQgdGhpcy5zdG9yYWdlLmdldFN0YXRlKG5ldHdvcmspO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHN0YXRlLmFjY291bnRzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldEFjdGl2ZUFjY291bnQobmV0d29yaykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB5aWVsZCB0aGlzLnN0b3JhZ2UuZ2V0U3RhdGUobmV0d29yayk7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUuYWN0aXZlQWNjb3VudDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldEtleShuZXR3b3JrSWQsIGFjY291bnRJZCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB5aWVsZCB0aGlzLnN0b3JhZ2UuZ2V0U3RhdGUobmV0d29ya0lkKTtcbiAgICAgICAgICAgIGNvbnN0IHByaXZhdGVLZXkgPSBzdGF0ZS5hY2NvdW50c1thY2NvdW50SWRdO1xuICAgICAgICAgICAgaWYgKHByaXZhdGVLZXkgPT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihgRm9yICR7YWNjb3VudElkfSBpbiAke25ldHdvcmtJZH0gbmV0d29yayBrZXkgbm90IGZvdW5kYCk7XG4gICAgICAgICAgICBjb25zdCBrZXlQYWlyID0ga2V5X3BhaXJfMS5LZXlQYWlyLmZyb21TdHJpbmcocHJpdmF0ZUtleSk7XG4gICAgICAgICAgICByZXR1cm4ga2V5UGFpcjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlbW92ZUtleShuZXR3b3JrSWQsIGFjY291bnRJZCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgbGV0IHN0YXRlID0geWllbGQgdGhpcy5zdG9yYWdlLmdldFN0YXRlKG5ldHdvcmtJZCk7XG4gICAgICAgICAgICBpZiAoc3RhdGUuYWN0aXZlQWNjb3VudCA9PT0gYWNjb3VudElkKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuYWN0aXZlQWNjb3VudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgc3RhdGUuYWNjb3VudHNbYWNjb3VudElkXTtcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZS5zZXRTdGF0ZShuZXR3b3JrSWQsIHN0YXRlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldE5ldHdvcmtzKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgbGV0IHN0YXRlID0geWllbGQgdGhpcy5zdG9yYWdlLmdldEZ1bGxTdGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHN0YXRlLmFjY291bnRzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgeWllbGQgdGhpcy5zdG9yYWdlLmNsZWFyKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuSGVyZUtleVN0b3JlID0gSGVyZUtleVN0b3JlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SGVyZUtleVN0b3JlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/HereKeyStore.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/JSONStorage.js":
/*!*************************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/JSONStorage.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.StateStorage = void 0;\nclass StateStorage {\n    constructor() {\n        this.dataKey = `herewallet:keystore`;\n    }\n    setState(network, state) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const data = yield this.getFullState();\n            data[network] = state;\n            window.localStorage.setItem(this.dataKey, JSON.stringify(data));\n        });\n    }\n    getFullState() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                return JSON.parse(window.localStorage.getItem(this.dataKey)) || {};\n            }\n            catch (_a) {\n                return {};\n            }\n        });\n    }\n    getState(network) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const json = yield this.getFullState();\n            return json[network] || { activeAccount: null, accounts: {} };\n        });\n    }\n    clear() {\n        return __awaiter(this, void 0, void 0, function* () {\n            window.localStorage.removeItem(this.dataKey);\n        });\n    }\n}\nexports.StateStorage = StateStorage;\n//# sourceMappingURL=JSONStorage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvSlNPTlN0b3JhZ2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVsbG8tbmVhci8uL25vZGVfbW9kdWxlcy9AaGVyZS13YWxsZXQvY29yZS9idWlsZC9KU09OU3RvcmFnZS5qcz85ZmQ4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlN0YXRlU3RvcmFnZSA9IHZvaWQgMDtcbmNsYXNzIFN0YXRlU3RvcmFnZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZGF0YUtleSA9IGBoZXJld2FsbGV0OmtleXN0b3JlYDtcbiAgICB9XG4gICAgc2V0U3RhdGUobmV0d29yaywgc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCB0aGlzLmdldEZ1bGxTdGF0ZSgpO1xuICAgICAgICAgICAgZGF0YVtuZXR3b3JrXSA9IHN0YXRlO1xuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuZGF0YUtleSwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0RnVsbFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5kYXRhS2V5KSkgfHwge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRTdGF0ZShuZXR3b3JrKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBqc29uID0geWllbGQgdGhpcy5nZXRGdWxsU3RhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiBqc29uW25ldHdvcmtdIHx8IHsgYWN0aXZlQWNjb3VudDogbnVsbCwgYWNjb3VudHM6IHt9IH07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLmRhdGFLZXkpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLlN0YXRlU3RvcmFnZSA9IFN0YXRlU3RvcmFnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUpTT05TdG9yYWdlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/JSONStorage.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/WidgetStrategy.js":
/*!****************************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/WidgetStrategy.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WidgetStrategy = exports.defaultUrl = void 0;\nconst createIframe = (widget) => {\n    const connector = document.createElement(\"iframe\");\n    connector.src = widget;\n    connector.style.border = \"none\";\n    connector.style.zIndex = \"10000\";\n    connector.style.position = \"fixed\";\n    connector.style.display = \"none\";\n    connector.style.top = \"0\";\n    connector.style.left = \"0\";\n    connector.style.width = \"100%\";\n    connector.style.height = \"100%\";\n    document.body.appendChild(connector);\n    return connector;\n};\nexports.defaultUrl = \"https://my.herewallet.app/connector/index.html\";\nclass WidgetStrategy {\n    constructor(options = { widget: exports.defaultUrl, lazy: false }) {\n        this.options = {\n            lazy: typeof options === \"object\" ? options.lazy || false : false,\n            widget: typeof options === \"string\" ? options : options.widget || exports.defaultUrl,\n        };\n        if (!this.options.lazy) {\n            this.initIframe();\n        }\n    }\n    initIframe() {\n        if (WidgetStrategy.connector == null) {\n            WidgetStrategy.connector = createIframe(this.options.widget);\n            WidgetStrategy.connector.addEventListener(\"load\", () => {\n                WidgetStrategy.isLoaded = true;\n            });\n        }\n        return WidgetStrategy.connector;\n    }\n    onRequested(id, request, reject) {\n        const iframe = this.initIframe();\n        iframe.style.display = \"block\";\n        const loadHandler = () => {\n            var _a, _b, _c;\n            (_a = WidgetStrategy.connector) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"load\", loadHandler);\n            (_c = (_b = WidgetStrategy.connector) === null || _b === void 0 ? void 0 : _b.contentWindow) === null || _c === void 0 ? void 0 : _c.postMessage(JSON.stringify({ type: \"request\", payload: { id, request } }), new URL(this.options.widget).origin);\n        };\n        if (WidgetStrategy.isLoaded)\n            loadHandler();\n        else\n            iframe.addEventListener(\"load\", loadHandler);\n        this.messageHandler = (event) => {\n            try {\n                if (event.origin !== new URL(this.options.widget).origin)\n                    return;\n                if (JSON.parse(event.data).type === \"reject\")\n                    reject();\n            }\n            catch (_a) { }\n        };\n        window.addEventListener(\"message\", this.messageHandler);\n    }\n    postMessage(data) {\n        var _a;\n        const iframe = this.initIframe();\n        const args = JSON.stringify(data);\n        const origin = new URL(this.options.widget).origin;\n        (_a = iframe.contentWindow) === null || _a === void 0 ? void 0 : _a.postMessage(args, origin);\n    }\n    onApproving() {\n        this.postMessage({ type: \"approving\" });\n    }\n    onSuccess(request) {\n        console.log(request);\n        this.postMessage({ type: \"result\", payload: { request } });\n        this.close();\n    }\n    onFailed(request) {\n        this.postMessage({ type: \"result\", payload: { request } });\n        this.close();\n    }\n    close() {\n        if (this.messageHandler) {\n            window.removeEventListener(\"message\", this.messageHandler);\n            this.messageHandler = undefined;\n        }\n        if (WidgetStrategy.connector) {\n            WidgetStrategy.connector.style.display = \"none\";\n        }\n    }\n}\nexports.WidgetStrategy = WidgetStrategy;\nWidgetStrategy.isLoaded = false;\n//# sourceMappingURL=WidgetStrategy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvV2lkZ2V0U3RyYXRlZ3kuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsc0JBQXNCLEdBQUcsa0JBQWtCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSw0QkFBNEIseUNBQXlDO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhLQUE4Syw0QkFBNEIsZUFBZTtBQUN6TjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsbUJBQW1CO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwyQkFBMkIsV0FBVztBQUNqRTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMkJBQTJCLFdBQVc7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWxsby1uZWFyLy4vbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL1dpZGdldFN0cmF0ZWd5LmpzPzU0ZmEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLldpZGdldFN0cmF0ZWd5ID0gZXhwb3J0cy5kZWZhdWx0VXJsID0gdm9pZCAwO1xuY29uc3QgY3JlYXRlSWZyYW1lID0gKHdpZGdldCkgPT4ge1xuICAgIGNvbnN0IGNvbm5lY3RvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7XG4gICAgY29ubmVjdG9yLnNyYyA9IHdpZGdldDtcbiAgICBjb25uZWN0b3Iuc3R5bGUuYm9yZGVyID0gXCJub25lXCI7XG4gICAgY29ubmVjdG9yLnN0eWxlLnpJbmRleCA9IFwiMTAwMDBcIjtcbiAgICBjb25uZWN0b3Iuc3R5bGUucG9zaXRpb24gPSBcImZpeGVkXCI7XG4gICAgY29ubmVjdG9yLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBjb25uZWN0b3Iuc3R5bGUudG9wID0gXCIwXCI7XG4gICAgY29ubmVjdG9yLnN0eWxlLmxlZnQgPSBcIjBcIjtcbiAgICBjb25uZWN0b3Iuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICBjb25uZWN0b3Iuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb25uZWN0b3IpO1xuICAgIHJldHVybiBjb25uZWN0b3I7XG59O1xuZXhwb3J0cy5kZWZhdWx0VXJsID0gXCJodHRwczovL215LmhlcmV3YWxsZXQuYXBwL2Nvbm5lY3Rvci9pbmRleC5odG1sXCI7XG5jbGFzcyBXaWRnZXRTdHJhdGVneSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHsgd2lkZ2V0OiBleHBvcnRzLmRlZmF1bHRVcmwsIGxhenk6IGZhbHNlIH0pIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgICAgICAgbGF6eTogdHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmxhenkgfHwgZmFsc2UgOiBmYWxzZSxcbiAgICAgICAgICAgIHdpZGdldDogdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgPyBvcHRpb25zIDogb3B0aW9ucy53aWRnZXQgfHwgZXhwb3J0cy5kZWZhdWx0VXJsLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5sYXp5KSB7XG4gICAgICAgICAgICB0aGlzLmluaXRJZnJhbWUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbml0SWZyYW1lKCkge1xuICAgICAgICBpZiAoV2lkZ2V0U3RyYXRlZ3kuY29ubmVjdG9yID09IG51bGwpIHtcbiAgICAgICAgICAgIFdpZGdldFN0cmF0ZWd5LmNvbm5lY3RvciA9IGNyZWF0ZUlmcmFtZSh0aGlzLm9wdGlvbnMud2lkZ2V0KTtcbiAgICAgICAgICAgIFdpZGdldFN0cmF0ZWd5LmNvbm5lY3Rvci5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgV2lkZ2V0U3RyYXRlZ3kuaXNMb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFdpZGdldFN0cmF0ZWd5LmNvbm5lY3RvcjtcbiAgICB9XG4gICAgb25SZXF1ZXN0ZWQoaWQsIHJlcXVlc3QsIHJlamVjdCkge1xuICAgICAgICBjb25zdCBpZnJhbWUgPSB0aGlzLmluaXRJZnJhbWUoKTtcbiAgICAgICAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIGNvbnN0IGxvYWRIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgICAgICAoX2EgPSBXaWRnZXRTdHJhdGVneS5jb25uZWN0b3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLCBsb2FkSGFuZGxlcik7XG4gICAgICAgICAgICAoX2MgPSAoX2IgPSBXaWRnZXRTdHJhdGVneS5jb25uZWN0b3IpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jb250ZW50V2luZG93KSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiBcInJlcXVlc3RcIiwgcGF5bG9hZDogeyBpZCwgcmVxdWVzdCB9IH0pLCBuZXcgVVJMKHRoaXMub3B0aW9ucy53aWRnZXQpLm9yaWdpbik7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChXaWRnZXRTdHJhdGVneS5pc0xvYWRlZClcbiAgICAgICAgICAgIGxvYWRIYW5kbGVyKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGlmcmFtZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBsb2FkSGFuZGxlcik7XG4gICAgICAgIHRoaXMubWVzc2FnZUhhbmRsZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50Lm9yaWdpbiAhPT0gbmV3IFVSTCh0aGlzLm9wdGlvbnMud2lkZ2V0KS5vcmlnaW4pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoSlNPTi5wYXJzZShldmVudC5kYXRhKS50eXBlID09PSBcInJlamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfYSkgeyB9XG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCB0aGlzLm1lc3NhZ2VIYW5kbGVyKTtcbiAgICB9XG4gICAgcG9zdE1lc3NhZ2UoZGF0YSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGlmcmFtZSA9IHRoaXMuaW5pdElmcmFtZSgpO1xuICAgICAgICBjb25zdCBhcmdzID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgICAgIGNvbnN0IG9yaWdpbiA9IG5ldyBVUkwodGhpcy5vcHRpb25zLndpZGdldCkub3JpZ2luO1xuICAgICAgICAoX2EgPSBpZnJhbWUuY29udGVudFdpbmRvdykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBvc3RNZXNzYWdlKGFyZ3MsIG9yaWdpbik7XG4gICAgfVxuICAgIG9uQXBwcm92aW5nKCkge1xuICAgICAgICB0aGlzLnBvc3RNZXNzYWdlKHsgdHlwZTogXCJhcHByb3ZpbmdcIiB9KTtcbiAgICB9XG4gICAgb25TdWNjZXNzKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVxdWVzdCk7XG4gICAgICAgIHRoaXMucG9zdE1lc3NhZ2UoeyB0eXBlOiBcInJlc3VsdFwiLCBwYXlsb2FkOiB7IHJlcXVlc3QgfSB9KTtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgICBvbkZhaWxlZChyZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMucG9zdE1lc3NhZ2UoeyB0eXBlOiBcInJlc3VsdFwiLCBwYXlsb2FkOiB7IHJlcXVlc3QgfSB9KTtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubWVzc2FnZUhhbmRsZXIpIHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCB0aGlzLm1lc3NhZ2VIYW5kbGVyKTtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZUhhbmRsZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFdpZGdldFN0cmF0ZWd5LmNvbm5lY3Rvcikge1xuICAgICAgICAgICAgV2lkZ2V0U3RyYXRlZ3kuY29ubmVjdG9yLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuV2lkZ2V0U3RyYXRlZ3kgPSBXaWRnZXRTdHJhdGVneTtcbldpZGdldFN0cmF0ZWd5LmlzTG9hZGVkID0gZmFsc2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XaWRnZXRTdHJhdGVneS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/WidgetStrategy.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/WindowStrategy.js":
/*!****************************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/WindowStrategy.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WindowStrategy = void 0;\nclass WindowStrategy {\n    constructor(endpoint = \"https://my.herewallet.app\") {\n        this.endpoint = endpoint;\n        this.signWindow = null;\n        this.onFailed = () => this.close();\n        this.onSuccess = () => this.close();\n    }\n    onInitialized() {\n        if (this.signWindow)\n            return;\n        const left = window.innerWidth / 2 - 420 / 2;\n        const top = window.innerHeight / 2 - 700 / 2;\n        this.signWindow = window.open(`${this.endpoint}/loading`, \"_blank\", `popup=1,width=420,height=700,top=${top},left=${left}`);\n    }\n    onRequested(id, request, reject) {\n        if (this.signWindow == null)\n            return;\n        this.unloadHandler = () => { var _a; return (_a = this.signWindow) === null || _a === void 0 ? void 0 : _a.close(); };\n        window.addEventListener(\"beforeunload\", this.unloadHandler);\n        this.signWindow.location = `${this.endpoint}/request/${id}`;\n        this.timerHandler = setInterval(() => {\n            var _a;\n            if ((_a = this.signWindow) === null || _a === void 0 ? void 0 : _a.closed)\n                reject(\"CLOSED\");\n        }, 1000);\n    }\n    close() {\n        var _a;\n        clearInterval(this.timerHandler);\n        (_a = this.signWindow) === null || _a === void 0 ? void 0 : _a.close();\n        this.signWindow = null;\n        if (this.unloadHandler) {\n            window.removeEventListener(\"beforeunload\", this.unloadHandler);\n        }\n    }\n}\nexports.WindowStrategy = WindowStrategy;\n//# sourceMappingURL=WindowStrategy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvV2luZG93U3RyYXRlZ3kuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxjQUFjLHlEQUF5RCxJQUFJLFFBQVEsS0FBSztBQUNqSTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxRQUFRO0FBQzdDO0FBQ0Esc0NBQXNDLGNBQWMsV0FBVyxHQUFHO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWxsby1uZWFyLy4vbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL1dpbmRvd1N0cmF0ZWd5LmpzPzU1NmEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLldpbmRvd1N0cmF0ZWd5ID0gdm9pZCAwO1xuY2xhc3MgV2luZG93U3RyYXRlZ3kge1xuICAgIGNvbnN0cnVjdG9yKGVuZHBvaW50ID0gXCJodHRwczovL215LmhlcmV3YWxsZXQuYXBwXCIpIHtcbiAgICAgICAgdGhpcy5lbmRwb2ludCA9IGVuZHBvaW50O1xuICAgICAgICB0aGlzLnNpZ25XaW5kb3cgPSBudWxsO1xuICAgICAgICB0aGlzLm9uRmFpbGVkID0gKCkgPT4gdGhpcy5jbG9zZSgpO1xuICAgICAgICB0aGlzLm9uU3VjY2VzcyA9ICgpID0+IHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gICAgb25Jbml0aWFsaXplZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2lnbldpbmRvdylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgbGVmdCA9IHdpbmRvdy5pbm5lcldpZHRoIC8gMiAtIDQyMCAvIDI7XG4gICAgICAgIGNvbnN0IHRvcCA9IHdpbmRvdy5pbm5lckhlaWdodCAvIDIgLSA3MDAgLyAyO1xuICAgICAgICB0aGlzLnNpZ25XaW5kb3cgPSB3aW5kb3cub3BlbihgJHt0aGlzLmVuZHBvaW50fS9sb2FkaW5nYCwgXCJfYmxhbmtcIiwgYHBvcHVwPTEsd2lkdGg9NDIwLGhlaWdodD03MDAsdG9wPSR7dG9wfSxsZWZ0PSR7bGVmdH1gKTtcbiAgICB9XG4gICAgb25SZXF1ZXN0ZWQoaWQsIHJlcXVlc3QsIHJlamVjdCkge1xuICAgICAgICBpZiAodGhpcy5zaWduV2luZG93ID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMudW5sb2FkSGFuZGxlciA9ICgpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gdGhpcy5zaWduV2luZG93KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xvc2UoKTsgfTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgdGhpcy51bmxvYWRIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5zaWduV2luZG93LmxvY2F0aW9uID0gYCR7dGhpcy5lbmRwb2ludH0vcmVxdWVzdC8ke2lkfWA7XG4gICAgICAgIHRoaXMudGltZXJIYW5kbGVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKChfYSA9IHRoaXMuc2lnbldpbmRvdykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsb3NlZClcbiAgICAgICAgICAgICAgICByZWplY3QoXCJDTE9TRURcIik7XG4gICAgICAgIH0sIDEwMDApO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXJIYW5kbGVyKTtcbiAgICAgICAgKF9hID0gdGhpcy5zaWduV2luZG93KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5zaWduV2luZG93ID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMudW5sb2FkSGFuZGxlcikge1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgdGhpcy51bmxvYWRIYW5kbGVyKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuV2luZG93U3RyYXRlZ3kgPSBXaW5kb3dTdHJhdGVneTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdpbmRvd1N0cmF0ZWd5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/WindowStrategy.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/actions/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/actions/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createAction = exports.parseArgs = void 0;\nconst bn_js_1 = __webpack_require__(/*! bn.js */ \"(ssr)/./node_modules/bn.js/lib/bn.js\");\nconst near_api_js_1 = __webpack_require__(/*! near-api-js */ \"(ssr)/./node_modules/near-api-js/lib/index.js\");\nconst getAccessKey = (permission) => {\n    if (permission === \"FullAccess\") {\n        return near_api_js_1.transactions.fullAccessKey();\n    }\n    const { receiverId, methodNames = [] } = permission;\n    const allowance = permission.allowance ? new bn_js_1.BN(permission.allowance) : undefined;\n    return near_api_js_1.transactions.functionCallAccessKey(receiverId, methodNames, allowance);\n};\nconst parseArgs = (data) => {\n    if (typeof data === \"string\")\n        return Buffer.from(data, \"base64\");\n    return data;\n};\nexports.parseArgs = parseArgs;\nconst createAction = (action) => {\n    switch (action.type) {\n        case \"CreateAccount\":\n            return near_api_js_1.transactions.createAccount();\n        case \"DeployContract\": {\n            const { code } = action.params;\n            return near_api_js_1.transactions.deployContract(code);\n        }\n        case \"FunctionCall\": {\n            const { methodName, args, gas, deposit } = action.params;\n            return near_api_js_1.transactions.functionCall(methodName, (0, exports.parseArgs)(args), new bn_js_1.BN(gas), new bn_js_1.BN(deposit));\n        }\n        case \"Transfer\": {\n            const { deposit } = action.params;\n            return near_api_js_1.transactions.transfer(new bn_js_1.BN(deposit));\n        }\n        case \"Stake\": {\n            const { stake, publicKey } = action.params;\n            return near_api_js_1.transactions.stake(new bn_js_1.BN(stake), near_api_js_1.utils.PublicKey.from(publicKey));\n        }\n        case \"AddKey\": {\n            const { publicKey, accessKey } = action.params;\n            return near_api_js_1.transactions.addKey(near_api_js_1.utils.PublicKey.from(publicKey), // TODO: Use accessKey.nonce? near-api-js seems to think 0 is fine?\n            getAccessKey(accessKey.permission));\n        }\n        case \"DeleteKey\": {\n            const { publicKey } = action.params;\n            return near_api_js_1.transactions.deleteKey(near_api_js_1.utils.PublicKey.from(publicKey));\n        }\n        case \"DeleteAccount\": {\n            const { beneficiaryId } = action.params;\n            return near_api_js_1.transactions.deleteAccount(beneficiaryId);\n        }\n        default:\n            throw new Error(\"Invalid action type\");\n    }\n};\nexports.createAction = createAction;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvYWN0aW9ucy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQkFBb0IsR0FBRyxpQkFBaUI7QUFDeEMsZ0JBQWdCLG1CQUFPLENBQUMsbURBQU87QUFDL0Isc0JBQXNCLG1CQUFPLENBQUMsa0VBQWE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtCQUErQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaUNBQWlDO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtQkFBbUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVCQUF1QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixZQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnQkFBZ0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVsbG8tbmVhci8uL25vZGVfbW9kdWxlcy9AaGVyZS13YWxsZXQvY29yZS9idWlsZC9hY3Rpb25zL2luZGV4LmpzPzk2MjMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNyZWF0ZUFjdGlvbiA9IGV4cG9ydHMucGFyc2VBcmdzID0gdm9pZCAwO1xuY29uc3QgYm5fanNfMSA9IHJlcXVpcmUoXCJibi5qc1wiKTtcbmNvbnN0IG5lYXJfYXBpX2pzXzEgPSByZXF1aXJlKFwibmVhci1hcGktanNcIik7XG5jb25zdCBnZXRBY2Nlc3NLZXkgPSAocGVybWlzc2lvbikgPT4ge1xuICAgIGlmIChwZXJtaXNzaW9uID09PSBcIkZ1bGxBY2Nlc3NcIikge1xuICAgICAgICByZXR1cm4gbmVhcl9hcGlfanNfMS50cmFuc2FjdGlvbnMuZnVsbEFjY2Vzc0tleSgpO1xuICAgIH1cbiAgICBjb25zdCB7IHJlY2VpdmVySWQsIG1ldGhvZE5hbWVzID0gW10gfSA9IHBlcm1pc3Npb247XG4gICAgY29uc3QgYWxsb3dhbmNlID0gcGVybWlzc2lvbi5hbGxvd2FuY2UgPyBuZXcgYm5fanNfMS5CTihwZXJtaXNzaW9uLmFsbG93YW5jZSkgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIG5lYXJfYXBpX2pzXzEudHJhbnNhY3Rpb25zLmZ1bmN0aW9uQ2FsbEFjY2Vzc0tleShyZWNlaXZlcklkLCBtZXRob2ROYW1lcywgYWxsb3dhbmNlKTtcbn07XG5jb25zdCBwYXJzZUFyZ3MgPSAoZGF0YSkgPT4ge1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKGRhdGEsIFwiYmFzZTY0XCIpO1xuICAgIHJldHVybiBkYXRhO1xufTtcbmV4cG9ydHMucGFyc2VBcmdzID0gcGFyc2VBcmdzO1xuY29uc3QgY3JlYXRlQWN0aW9uID0gKGFjdGlvbikgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcIkNyZWF0ZUFjY291bnRcIjpcbiAgICAgICAgICAgIHJldHVybiBuZWFyX2FwaV9qc18xLnRyYW5zYWN0aW9ucy5jcmVhdGVBY2NvdW50KCk7XG4gICAgICAgIGNhc2UgXCJEZXBsb3lDb250cmFjdFwiOiB7XG4gICAgICAgICAgICBjb25zdCB7IGNvZGUgfSA9IGFjdGlvbi5wYXJhbXM7XG4gICAgICAgICAgICByZXR1cm4gbmVhcl9hcGlfanNfMS50cmFuc2FjdGlvbnMuZGVwbG95Q29udHJhY3QoY29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIkZ1bmN0aW9uQ2FsbFwiOiB7XG4gICAgICAgICAgICBjb25zdCB7IG1ldGhvZE5hbWUsIGFyZ3MsIGdhcywgZGVwb3NpdCB9ID0gYWN0aW9uLnBhcmFtcztcbiAgICAgICAgICAgIHJldHVybiBuZWFyX2FwaV9qc18xLnRyYW5zYWN0aW9ucy5mdW5jdGlvbkNhbGwobWV0aG9kTmFtZSwgKDAsIGV4cG9ydHMucGFyc2VBcmdzKShhcmdzKSwgbmV3IGJuX2pzXzEuQk4oZ2FzKSwgbmV3IGJuX2pzXzEuQk4oZGVwb3NpdCkpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJUcmFuc2ZlclwiOiB7XG4gICAgICAgICAgICBjb25zdCB7IGRlcG9zaXQgfSA9IGFjdGlvbi5wYXJhbXM7XG4gICAgICAgICAgICByZXR1cm4gbmVhcl9hcGlfanNfMS50cmFuc2FjdGlvbnMudHJhbnNmZXIobmV3IGJuX2pzXzEuQk4oZGVwb3NpdCkpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJTdGFrZVwiOiB7XG4gICAgICAgICAgICBjb25zdCB7IHN0YWtlLCBwdWJsaWNLZXkgfSA9IGFjdGlvbi5wYXJhbXM7XG4gICAgICAgICAgICByZXR1cm4gbmVhcl9hcGlfanNfMS50cmFuc2FjdGlvbnMuc3Rha2UobmV3IGJuX2pzXzEuQk4oc3Rha2UpLCBuZWFyX2FwaV9qc18xLnV0aWxzLlB1YmxpY0tleS5mcm9tKHB1YmxpY0tleSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJBZGRLZXlcIjoge1xuICAgICAgICAgICAgY29uc3QgeyBwdWJsaWNLZXksIGFjY2Vzc0tleSB9ID0gYWN0aW9uLnBhcmFtcztcbiAgICAgICAgICAgIHJldHVybiBuZWFyX2FwaV9qc18xLnRyYW5zYWN0aW9ucy5hZGRLZXkobmVhcl9hcGlfanNfMS51dGlscy5QdWJsaWNLZXkuZnJvbShwdWJsaWNLZXkpLCAvLyBUT0RPOiBVc2UgYWNjZXNzS2V5Lm5vbmNlPyBuZWFyLWFwaS1qcyBzZWVtcyB0byB0aGluayAwIGlzIGZpbmU/XG4gICAgICAgICAgICBnZXRBY2Nlc3NLZXkoYWNjZXNzS2V5LnBlcm1pc3Npb24pKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiRGVsZXRlS2V5XCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHsgcHVibGljS2V5IH0gPSBhY3Rpb24ucGFyYW1zO1xuICAgICAgICAgICAgcmV0dXJuIG5lYXJfYXBpX2pzXzEudHJhbnNhY3Rpb25zLmRlbGV0ZUtleShuZWFyX2FwaV9qc18xLnV0aWxzLlB1YmxpY0tleS5mcm9tKHB1YmxpY0tleSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJEZWxldGVBY2NvdW50XCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHsgYmVuZWZpY2lhcnlJZCB9ID0gYWN0aW9uLnBhcmFtcztcbiAgICAgICAgICAgIHJldHVybiBuZWFyX2FwaV9qc18xLnRyYW5zYWN0aW9ucy5kZWxldGVBY2NvdW50KGJlbmVmaWNpYXJ5SWQpO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFjdGlvbiB0eXBlXCIpO1xuICAgIH1cbn07XG5leHBvcnRzLmNyZWF0ZUFjdGlvbiA9IGNyZWF0ZUFjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/actions/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/actions/types.js":
/*!***************************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/actions/types.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvYWN0aW9ucy90eXBlcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCIsInNvdXJjZXMiOlsid2VicGFjazovL2hlbGxvLW5lYXIvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvYWN0aW9ucy90eXBlcy5qcz84NTAwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/actions/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/here-provider/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/here-provider/index.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.proxyProvider = exports.getRequest = exports.proxyApi = exports.deleteRequest = exports.getResponse = exports.createRequest = void 0;\nconst utils_1 = __webpack_require__(/*! ../utils */ \"(ssr)/./node_modules/@here-wallet/core/build/utils.js\");\nconst provider_1 = __webpack_require__(/*! ../provider */ \"(ssr)/./node_modules/@here-wallet/core/build/provider.js\");\nconst methods_1 = __webpack_require__(/*! ./methods */ \"(ssr)/./node_modules/@here-wallet/core/build/here-provider/methods.js\");\nObject.defineProperty(exports, \"createRequest\", ({ enumerable: true, get: function () { return methods_1.createRequest; } }));\nObject.defineProperty(exports, \"getResponse\", ({ enumerable: true, get: function () { return methods_1.getResponse; } }));\nObject.defineProperty(exports, \"deleteRequest\", ({ enumerable: true, get: function () { return methods_1.deleteRequest; } }));\nObject.defineProperty(exports, \"proxyApi\", ({ enumerable: true, get: function () { return methods_1.proxyApi; } }));\nObject.defineProperty(exports, \"getRequest\", ({ enumerable: true, get: function () { return methods_1.getRequest; } }));\nconst proxyProvider = (conf) => __awaiter(void 0, void 0, void 0, function* () {\n    let { strategy, request, disableCleanupRequest, id, signal } = conf, delegate = __rest(conf, [\"strategy\", \"request\", \"disableCleanupRequest\", \"id\", \"signal\"]);\n    if (id != null)\n        request = yield (0, methods_1.getRequest)(id, signal);\n    else\n        id = yield (0, methods_1.createRequest)(request, signal);\n    return new Promise((resolve, reject) => {\n        var _a, _b;\n        const socketApi = methods_1.proxyApi.replace(\"https\", \"wss\");\n        let fallbackHttpTimer = null;\n        let socket = null;\n        const clear = () => __awaiter(void 0, void 0, void 0, function* () {\n            fallbackHttpTimer = -1;\n            clearInterval(fallbackHttpTimer);\n            socket === null || socket === void 0 ? void 0 : socket.close();\n            if (disableCleanupRequest !== true) {\n                yield (0, methods_1.deleteRequest)(id);\n            }\n        });\n        const processApprove = (data) => {\n            var _a, _b, _c, _d, _e, _f;\n            switch (data.status) {\n                case provider_1.HereProviderStatus.APPROVING:\n                    (_a = delegate.onApproving) === null || _a === void 0 ? void 0 : _a.call(delegate, data);\n                    (_b = strategy === null || strategy === void 0 ? void 0 : strategy.onApproving) === null || _b === void 0 ? void 0 : _b.call(strategy, data);\n                    return;\n                case provider_1.HereProviderStatus.FAILED:\n                    clear();\n                    reject(new provider_1.HereProviderError(data.payload));\n                    (_c = delegate.onFailed) === null || _c === void 0 ? void 0 : _c.call(delegate, data);\n                    (_d = strategy === null || strategy === void 0 ? void 0 : strategy.onFailed) === null || _d === void 0 ? void 0 : _d.call(strategy, data);\n                    return;\n                case provider_1.HereProviderStatus.SUCCESS:\n                    clear();\n                    resolve(data);\n                    (_e = delegate.onSuccess) === null || _e === void 0 ? void 0 : _e.call(delegate, data);\n                    (_f = strategy === null || strategy === void 0 ? void 0 : strategy.onSuccess) === null || _f === void 0 ? void 0 : _f.call(strategy, data);\n                    return;\n            }\n        };\n        const rejectAction = (payload) => {\n            processApprove({ status: provider_1.HereProviderStatus.FAILED, payload });\n        };\n        (_a = delegate.onRequested) === null || _a === void 0 ? void 0 : _a.call(delegate, id, request, rejectAction);\n        (_b = strategy === null || strategy === void 0 ? void 0 : strategy.onRequested) === null || _b === void 0 ? void 0 : _b.call(strategy, id, request, rejectAction);\n        signal === null || signal === void 0 ? void 0 : signal.addEventListener(\"abort\", () => rejectAction());\n        const setupTimer = () => {\n            if (fallbackHttpTimer === -1) {\n                return;\n            }\n            fallbackHttpTimer = setTimeout(() => __awaiter(void 0, void 0, void 0, function* () {\n                var _a, _b;\n                try {\n                    const data = yield (0, methods_1.getResponse)(id);\n                    if (fallbackHttpTimer === -1)\n                        return;\n                    processApprove(data);\n                    setupTimer();\n                }\n                catch (e) {\n                    const status = provider_1.HereProviderStatus.FAILED;\n                    const error = e instanceof Error ? e : undefined;\n                    const payload = error === null || error === void 0 ? void 0 : error.message;\n                    clear();\n                    reject(new provider_1.HereProviderError(payload, error));\n                    (_a = delegate.onFailed) === null || _a === void 0 ? void 0 : _a.call(delegate, { status, payload });\n                    (_b = strategy === null || strategy === void 0 ? void 0 : strategy.onFailed) === null || _b === void 0 ? void 0 : _b.call(strategy, { status, payload });\n                }\n            }), 3000);\n        };\n        setupTimer();\n        // Mobile flow doesn't support cross tabs socket background process\n        if ((0, utils_1.isMobile)() === false) {\n            const endpoint = `${socketApi}/ws/${id}`;\n            socket = new WebSocket(endpoint);\n            socket.onmessage = (e) => {\n                if (e.data == null)\n                    return;\n                try {\n                    const data = JSON.parse(e.data);\n                    processApprove(data);\n                }\n                catch (_a) {\n                    // nope\n                }\n            };\n        }\n    });\n});\nexports.proxyProvider = proxyProvider;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvaGVyZS1wcm92aWRlci9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELGNBQWM7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUIsR0FBRyxrQkFBa0IsR0FBRyxnQkFBZ0IsR0FBRyxxQkFBcUIsR0FBRyxtQkFBbUIsR0FBRyxxQkFBcUI7QUFDbkksZ0JBQWdCLG1CQUFPLENBQUMsdUVBQVU7QUFDbEMsbUJBQW1CLG1CQUFPLENBQUMsNkVBQWE7QUFDeEMsa0JBQWtCLG1CQUFPLENBQUMsd0ZBQVc7QUFDckMsaURBQWdELEVBQUUscUNBQXFDLG1DQUFtQyxFQUFDO0FBQzNILCtDQUE4QyxFQUFFLHFDQUFxQyxpQ0FBaUMsRUFBQztBQUN2SCxpREFBZ0QsRUFBRSxxQ0FBcUMsbUNBQW1DLEVBQUM7QUFDM0gsNENBQTJDLEVBQUUscUNBQXFDLDhCQUE4QixFQUFDO0FBQ2pILDhDQUE2QyxFQUFFLHFDQUFxQyxnQ0FBZ0MsRUFBQztBQUNySDtBQUNBLFVBQVUsdURBQXVEO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHVEQUF1RDtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0dBQXNHLGlCQUFpQjtBQUN2SCwwSkFBMEosaUJBQWlCO0FBQzNLO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFVBQVUsTUFBTSxHQUFHO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLENBQUM7QUFDRCxxQkFBcUI7QUFDckIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWxsby1uZWFyLy4vbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL2hlcmUtcHJvdmlkZXIvaW5kZXguanM/ZDM5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wcm94eVByb3ZpZGVyID0gZXhwb3J0cy5nZXRSZXF1ZXN0ID0gZXhwb3J0cy5wcm94eUFwaSA9IGV4cG9ydHMuZGVsZXRlUmVxdWVzdCA9IGV4cG9ydHMuZ2V0UmVzcG9uc2UgPSBleHBvcnRzLmNyZWF0ZVJlcXVlc3QgPSB2b2lkIDA7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4uL3V0aWxzXCIpO1xuY29uc3QgcHJvdmlkZXJfMSA9IHJlcXVpcmUoXCIuLi9wcm92aWRlclwiKTtcbmNvbnN0IG1ldGhvZHNfMSA9IHJlcXVpcmUoXCIuL21ldGhvZHNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjcmVhdGVSZXF1ZXN0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtZXRob2RzXzEuY3JlYXRlUmVxdWVzdDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImdldFJlc3BvbnNlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtZXRob2RzXzEuZ2V0UmVzcG9uc2U7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJkZWxldGVSZXF1ZXN0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtZXRob2RzXzEuZGVsZXRlUmVxdWVzdDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInByb3h5QXBpXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtZXRob2RzXzEucHJveHlBcGk7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJnZXRSZXF1ZXN0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtZXRob2RzXzEuZ2V0UmVxdWVzdDsgfSB9KTtcbmNvbnN0IHByb3h5UHJvdmlkZXIgPSAoY29uZikgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgbGV0IHsgc3RyYXRlZ3ksIHJlcXVlc3QsIGRpc2FibGVDbGVhbnVwUmVxdWVzdCwgaWQsIHNpZ25hbCB9ID0gY29uZiwgZGVsZWdhdGUgPSBfX3Jlc3QoY29uZiwgW1wic3RyYXRlZ3lcIiwgXCJyZXF1ZXN0XCIsIFwiZGlzYWJsZUNsZWFudXBSZXF1ZXN0XCIsIFwiaWRcIiwgXCJzaWduYWxcIl0pO1xuICAgIGlmIChpZCAhPSBudWxsKVxuICAgICAgICByZXF1ZXN0ID0geWllbGQgKDAsIG1ldGhvZHNfMS5nZXRSZXF1ZXN0KShpZCwgc2lnbmFsKTtcbiAgICBlbHNlXG4gICAgICAgIGlkID0geWllbGQgKDAsIG1ldGhvZHNfMS5jcmVhdGVSZXF1ZXN0KShyZXF1ZXN0LCBzaWduYWwpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IHNvY2tldEFwaSA9IG1ldGhvZHNfMS5wcm94eUFwaS5yZXBsYWNlKFwiaHR0cHNcIiwgXCJ3c3NcIik7XG4gICAgICAgIGxldCBmYWxsYmFja0h0dHBUaW1lciA9IG51bGw7XG4gICAgICAgIGxldCBzb2NrZXQgPSBudWxsO1xuICAgICAgICBjb25zdCBjbGVhciA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgZmFsbGJhY2tIdHRwVGltZXIgPSAtMTtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZmFsbGJhY2tIdHRwVGltZXIpO1xuICAgICAgICAgICAgc29ja2V0ID09PSBudWxsIHx8IHNvY2tldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc29ja2V0LmNsb3NlKCk7XG4gICAgICAgICAgICBpZiAoZGlzYWJsZUNsZWFudXBSZXF1ZXN0ICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgKDAsIG1ldGhvZHNfMS5kZWxldGVSZXF1ZXN0KShpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBwcm9jZXNzQXBwcm92ZSA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICAgICAgICAgIHN3aXRjaCAoZGF0YS5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIHByb3ZpZGVyXzEuSGVyZVByb3ZpZGVyU3RhdHVzLkFQUFJPVklORzpcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gZGVsZWdhdGUub25BcHByb3ZpbmcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGRlbGVnYXRlLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgKF9iID0gc3RyYXRlZ3kgPT09IG51bGwgfHwgc3RyYXRlZ3kgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0cmF0ZWd5Lm9uQXBwcm92aW5nKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChzdHJhdGVneSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBjYXNlIHByb3ZpZGVyXzEuSGVyZVByb3ZpZGVyU3RhdHVzLkZBSUxFRDpcbiAgICAgICAgICAgICAgICAgICAgY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBwcm92aWRlcl8xLkhlcmVQcm92aWRlckVycm9yKGRhdGEucGF5bG9hZCkpO1xuICAgICAgICAgICAgICAgICAgICAoX2MgPSBkZWxlZ2F0ZS5vbkZhaWxlZCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoZGVsZWdhdGUsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAoX2QgPSBzdHJhdGVneSA9PT0gbnVsbCB8fCBzdHJhdGVneSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RyYXRlZ3kub25GYWlsZWQpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5jYWxsKHN0cmF0ZWd5LCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNhc2UgcHJvdmlkZXJfMS5IZXJlUHJvdmlkZXJTdGF0dXMuU1VDQ0VTUzpcbiAgICAgICAgICAgICAgICAgICAgY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgKF9lID0gZGVsZWdhdGUub25TdWNjZXNzKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuY2FsbChkZWxlZ2F0ZSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIChfZiA9IHN0cmF0ZWd5ID09PSBudWxsIHx8IHN0cmF0ZWd5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdHJhdGVneS5vblN1Y2Nlc3MpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5jYWxsKHN0cmF0ZWd5LCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZWplY3RBY3Rpb24gPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgcHJvY2Vzc0FwcHJvdmUoeyBzdGF0dXM6IHByb3ZpZGVyXzEuSGVyZVByb3ZpZGVyU3RhdHVzLkZBSUxFRCwgcGF5bG9hZCB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgKF9hID0gZGVsZWdhdGUub25SZXF1ZXN0ZWQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGRlbGVnYXRlLCBpZCwgcmVxdWVzdCwgcmVqZWN0QWN0aW9uKTtcbiAgICAgICAgKF9iID0gc3RyYXRlZ3kgPT09IG51bGwgfHwgc3RyYXRlZ3kgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0cmF0ZWd5Lm9uUmVxdWVzdGVkKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChzdHJhdGVneSwgaWQsIHJlcXVlc3QsIHJlamVjdEFjdGlvbik7XG4gICAgICAgIHNpZ25hbCA9PT0gbnVsbCB8fCBzaWduYWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgKCkgPT4gcmVqZWN0QWN0aW9uKCkpO1xuICAgICAgICBjb25zdCBzZXR1cFRpbWVyID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGZhbGxiYWNrSHR0cFRpbWVyID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZhbGxiYWNrSHR0cFRpbWVyID0gc2V0VGltZW91dCgoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCAoMCwgbWV0aG9kc18xLmdldFJlc3BvbnNlKShpZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWxsYmFja0h0dHBUaW1lciA9PT0gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NBcHByb3ZlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBzZXR1cFRpbWVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IHByb3ZpZGVyXzEuSGVyZVByb3ZpZGVyU3RhdHVzLkZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBlIGluc3RhbmNlb2YgRXJyb3IgPyBlIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gZXJyb3IgPT09IG51bGwgfHwgZXJyb3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgcHJvdmlkZXJfMS5IZXJlUHJvdmlkZXJFcnJvcihwYXlsb2FkLCBlcnJvcikpO1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSBkZWxlZ2F0ZS5vbkZhaWxlZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoZGVsZWdhdGUsIHsgc3RhdHVzLCBwYXlsb2FkIH0pO1xuICAgICAgICAgICAgICAgICAgICAoX2IgPSBzdHJhdGVneSA9PT0gbnVsbCB8fCBzdHJhdGVneSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RyYXRlZ3kub25GYWlsZWQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKHN0cmF0ZWd5LCB7IHN0YXR1cywgcGF5bG9hZCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSwgMzAwMCk7XG4gICAgICAgIH07XG4gICAgICAgIHNldHVwVGltZXIoKTtcbiAgICAgICAgLy8gTW9iaWxlIGZsb3cgZG9lc24ndCBzdXBwb3J0IGNyb3NzIHRhYnMgc29ja2V0IGJhY2tncm91bmQgcHJvY2Vzc1xuICAgICAgICBpZiAoKDAsIHV0aWxzXzEuaXNNb2JpbGUpKCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGAke3NvY2tldEFwaX0vd3MvJHtpZH1gO1xuICAgICAgICAgICAgc29ja2V0ID0gbmV3IFdlYlNvY2tldChlbmRwb2ludCk7XG4gICAgICAgICAgICBzb2NrZXQub25tZXNzYWdlID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZS5kYXRhID09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzQXBwcm92ZShkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vcGVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSk7XG59KTtcbmV4cG9ydHMucHJveHlQcm92aWRlciA9IHByb3h5UHJvdmlkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/here-provider/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/here-provider/methods.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/here-provider/methods.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createRequest = exports.deleteRequest = exports.getResponse = exports.getRequest = exports.proxyApi = void 0;\nconst sha1_1 = __importDefault(__webpack_require__(/*! sha1 */ \"(ssr)/./node_modules/sha1/sha1.js\"));\nconst uuid4_1 = __importDefault(__webpack_require__(/*! uuid4 */ \"(ssr)/./node_modules/uuid4/index.js\"));\nconst serialize_1 = __webpack_require__(/*! near-api-js/lib/utils/serialize */ \"(ssr)/./node_modules/near-api-js/lib/utils/serialize.js\");\nconst utils_1 = __webpack_require__(/*! ../utils */ \"(ssr)/./node_modules/@here-wallet/core/build/utils.js\");\nexports.proxyApi = \"https://h4n.app\";\nconst getRequest = (id, signal) => __awaiter(void 0, void 0, void 0, function* () {\n    const res = yield fetch(`${exports.proxyApi}/${id}/request`, {\n        signal,\n        headers: { \"content-type\": \"application/json\" },\n        method: \"GET\",\n    });\n    if (res.ok === false) {\n        throw Error(yield res.text());\n    }\n    const { data } = yield res.json();\n    return JSON.parse((0, serialize_1.base_decode)(data).toString(\"utf8\"));\n});\nexports.getRequest = getRequest;\nconst getResponse = (id) => __awaiter(void 0, void 0, void 0, function* () {\n    var _a, _b, _c, _d;\n    const res = yield fetch(`${exports.proxyApi}/${id}/response`, {\n        headers: { \"content-type\": \"application/json\" },\n        method: \"GET\",\n    });\n    if (res.ok === false) {\n        throw Error(yield res.text());\n    }\n    const { data } = yield res.json();\n    const result = (_a = JSON.parse(data)) !== null && _a !== void 0 ? _a : {};\n    return {\n        account_id: (_b = result.account_id) !== null && _b !== void 0 ? _b : \"\",\n        payload: (_c = result.payload) !== null && _c !== void 0 ? _c : \"\",\n        status: (_d = result.status) !== null && _d !== void 0 ? _d : -1,\n        topic: result.topic,\n    };\n});\nexports.getResponse = getResponse;\nconst deleteRequest = (id) => __awaiter(void 0, void 0, void 0, function* () {\n    const res = yield fetch(`${exports.proxyApi}/${id}`, {\n        headers: { \"content-type\": \"application/json\" },\n        method: \"DELETE\",\n    });\n    if (res.ok === false) {\n        throw Error(yield res.text());\n    }\n});\nexports.deleteRequest = deleteRequest;\nconst createRequest = (request, signal) => __awaiter(void 0, void 0, void 0, function* () {\n    const query = (0, serialize_1.base_encode)(JSON.stringify(Object.assign(Object.assign({}, request), { _id: (0, uuid4_1.default)() })));\n    const hashsum = (0, sha1_1.default)(query);\n    const id = Buffer.from(hashsum, \"hex\").toString(\"base64\");\n    const urlsafe = id.replaceAll(\"/\", \"_\").replaceAll(\"-\", \"+\").slice(0, 13);\n    const res = yield fetch(`${exports.proxyApi}/${urlsafe}/request`, {\n        method: \"POST\",\n        signal,\n        body: JSON.stringify({\n            topic_id: (0, utils_1.getDeviceId)(),\n            data: query,\n        }),\n        headers: {\n            \"content-type\": \"application/json\",\n        },\n    });\n    if (res.ok === false) {\n        throw Error(yield res.text());\n    }\n    return urlsafe;\n});\nexports.createRequest = createRequest;\n//# sourceMappingURL=methods.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvaGVyZS1wcm92aWRlci9tZXRob2RzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFCQUFxQixHQUFHLHFCQUFxQixHQUFHLG1CQUFtQixHQUFHLGtCQUFrQixHQUFHLGdCQUFnQjtBQUMzRywrQkFBK0IsbUJBQU8sQ0FBQywrQ0FBTTtBQUM3QyxnQ0FBZ0MsbUJBQU8sQ0FBQyxrREFBTztBQUMvQyxvQkFBb0IsbUJBQU8sQ0FBQyxnR0FBaUM7QUFDN0QsZ0JBQWdCLG1CQUFPLENBQUMsdUVBQVU7QUFDbEMsZ0JBQWdCO0FBQ2hCO0FBQ0EsK0JBQStCLGlCQUFpQixHQUFHLEdBQUc7QUFDdEQ7QUFDQSxtQkFBbUIsb0NBQW9DO0FBQ3ZEO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNBLENBQUM7QUFDRCxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLCtCQUErQixpQkFBaUIsR0FBRyxHQUFHO0FBQ3RELG1CQUFtQixvQ0FBb0M7QUFDdkQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELG1CQUFtQjtBQUNuQjtBQUNBLCtCQUErQixpQkFBaUIsR0FBRyxHQUFHO0FBQ3RELG1CQUFtQixvQ0FBb0M7QUFDdkQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHFCQUFxQjtBQUNyQjtBQUNBLDRGQUE0RixjQUFjLDZCQUE2QjtBQUN2STtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsaUJBQWlCLEdBQUcsUUFBUTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHFCQUFxQjtBQUNyQiIsInNvdXJjZXMiOlsid2VicGFjazovL2hlbGxvLW5lYXIvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvaGVyZS1wcm92aWRlci9tZXRob2RzLmpzPzQxMzkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlUmVxdWVzdCA9IGV4cG9ydHMuZGVsZXRlUmVxdWVzdCA9IGV4cG9ydHMuZ2V0UmVzcG9uc2UgPSBleHBvcnRzLmdldFJlcXVlc3QgPSBleHBvcnRzLnByb3h5QXBpID0gdm9pZCAwO1xuY29uc3Qgc2hhMV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJzaGExXCIpKTtcbmNvbnN0IHV1aWQ0XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcInV1aWQ0XCIpKTtcbmNvbnN0IHNlcmlhbGl6ZV8xID0gcmVxdWlyZShcIm5lYXItYXBpLWpzL2xpYi91dGlscy9zZXJpYWxpemVcIik7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4uL3V0aWxzXCIpO1xuZXhwb3J0cy5wcm94eUFwaSA9IFwiaHR0cHM6Ly9oNG4uYXBwXCI7XG5jb25zdCBnZXRSZXF1ZXN0ID0gKGlkLCBzaWduYWwpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IHJlcyA9IHlpZWxkIGZldGNoKGAke2V4cG9ydHMucHJveHlBcGl9LyR7aWR9L3JlcXVlc3RgLCB7XG4gICAgICAgIHNpZ25hbCxcbiAgICAgICAgaGVhZGVyczogeyBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgfSk7XG4gICAgaWYgKHJlcy5vayA9PT0gZmFsc2UpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoeWllbGQgcmVzLnRleHQoKSk7XG4gICAgfVxuICAgIGNvbnN0IHsgZGF0YSB9ID0geWllbGQgcmVzLmpzb24oKTtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSgoMCwgc2VyaWFsaXplXzEuYmFzZV9kZWNvZGUpKGRhdGEpLnRvU3RyaW5nKFwidXRmOFwiKSk7XG59KTtcbmV4cG9ydHMuZ2V0UmVxdWVzdCA9IGdldFJlcXVlc3Q7XG5jb25zdCBnZXRSZXNwb25zZSA9IChpZCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGNvbnN0IHJlcyA9IHlpZWxkIGZldGNoKGAke2V4cG9ydHMucHJveHlBcGl9LyR7aWR9L3Jlc3BvbnNlYCwge1xuICAgICAgICBoZWFkZXJzOiB7IFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICB9KTtcbiAgICBpZiAocmVzLm9rID09PSBmYWxzZSkge1xuICAgICAgICB0aHJvdyBFcnJvcih5aWVsZCByZXMudGV4dCgpKTtcbiAgICB9XG4gICAgY29uc3QgeyBkYXRhIH0gPSB5aWVsZCByZXMuanNvbigpO1xuICAgIGNvbnN0IHJlc3VsdCA9IChfYSA9IEpTT04ucGFyc2UoZGF0YSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGFjY291bnRfaWQ6IChfYiA9IHJlc3VsdC5hY2NvdW50X2lkKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBcIlwiLFxuICAgICAgICBwYXlsb2FkOiAoX2MgPSByZXN1bHQucGF5bG9hZCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogXCJcIixcbiAgICAgICAgc3RhdHVzOiAoX2QgPSByZXN1bHQuc3RhdHVzKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAtMSxcbiAgICAgICAgdG9waWM6IHJlc3VsdC50b3BpYyxcbiAgICB9O1xufSk7XG5leHBvcnRzLmdldFJlc3BvbnNlID0gZ2V0UmVzcG9uc2U7XG5jb25zdCBkZWxldGVSZXF1ZXN0ID0gKGlkKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCByZXMgPSB5aWVsZCBmZXRjaChgJHtleHBvcnRzLnByb3h5QXBpfS8ke2lkfWAsIHtcbiAgICAgICAgaGVhZGVyczogeyBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgfSk7XG4gICAgaWYgKHJlcy5vayA9PT0gZmFsc2UpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoeWllbGQgcmVzLnRleHQoKSk7XG4gICAgfVxufSk7XG5leHBvcnRzLmRlbGV0ZVJlcXVlc3QgPSBkZWxldGVSZXF1ZXN0O1xuY29uc3QgY3JlYXRlUmVxdWVzdCA9IChyZXF1ZXN0LCBzaWduYWwpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IHF1ZXJ5ID0gKDAsIHNlcmlhbGl6ZV8xLmJhc2VfZW5jb2RlKShKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlcXVlc3QpLCB7IF9pZDogKDAsIHV1aWQ0XzEuZGVmYXVsdCkoKSB9KSkpO1xuICAgIGNvbnN0IGhhc2hzdW0gPSAoMCwgc2hhMV8xLmRlZmF1bHQpKHF1ZXJ5KTtcbiAgICBjb25zdCBpZCA9IEJ1ZmZlci5mcm9tKGhhc2hzdW0sIFwiaGV4XCIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuICAgIGNvbnN0IHVybHNhZmUgPSBpZC5yZXBsYWNlQWxsKFwiL1wiLCBcIl9cIikucmVwbGFjZUFsbChcIi1cIiwgXCIrXCIpLnNsaWNlKDAsIDEzKTtcbiAgICBjb25zdCByZXMgPSB5aWVsZCBmZXRjaChgJHtleHBvcnRzLnByb3h5QXBpfS8ke3VybHNhZmV9L3JlcXVlc3RgLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIHNpZ25hbCxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgdG9waWNfaWQ6ICgwLCB1dGlsc18xLmdldERldmljZUlkKSgpLFxuICAgICAgICAgICAgZGF0YTogcXVlcnksXG4gICAgICAgIH0pLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICBpZiAocmVzLm9rID09PSBmYWxzZSkge1xuICAgICAgICB0aHJvdyBFcnJvcih5aWVsZCByZXMudGV4dCgpKTtcbiAgICB9XG4gICAgcmV0dXJuIHVybHNhZmU7XG59KTtcbmV4cG9ydHMuY3JlYXRlUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXRob2RzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/here-provider/methods.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/index.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.HereWallet = void 0;\nvar wallet_1 = __webpack_require__(/*! ./wallet */ \"(ssr)/./node_modules/@here-wallet/core/build/wallet.js\");\nObject.defineProperty(exports, \"HereWallet\", ({ enumerable: true, get: function () { return wallet_1.HereWallet; } }));\n__exportStar(__webpack_require__(/*! ./actions */ \"(ssr)/./node_modules/@here-wallet/core/build/actions/index.js\"), exports);\n__exportStar(__webpack_require__(/*! ./HereKeyStore */ \"(ssr)/./node_modules/@here-wallet/core/build/HereKeyStore.js\"), exports);\n__exportStar(__webpack_require__(/*! ./JSONStorage */ \"(ssr)/./node_modules/@here-wallet/core/build/JSONStorage.js\"), exports);\n__exportStar(__webpack_require__(/*! ./actions/types */ \"(ssr)/./node_modules/@here-wallet/core/build/actions/types.js\"), exports);\n__exportStar(__webpack_require__(/*! ./WidgetStrategy */ \"(ssr)/./node_modules/@here-wallet/core/build/WidgetStrategy.js\"), exports);\n__exportStar(__webpack_require__(/*! ./WindowStrategy */ \"(ssr)/./node_modules/@here-wallet/core/build/WindowStrategy.js\"), exports);\n__exportStar(__webpack_require__(/*! ./provider */ \"(ssr)/./node_modules/@here-wallet/core/build/provider.js\"), exports);\n__exportStar(__webpack_require__(/*! ./types */ \"(ssr)/./node_modules/@here-wallet/core/build/types.js\"), exports);\n__exportStar(__webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@here-wallet/core/build/utils.js\"), exports);\n__exportStar(__webpack_require__(/*! ./here-provider */ \"(ssr)/./node_modules/@here-wallet/core/build/here-provider/index.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0EsbUNBQW1DLG9DQUFvQyxnQkFBZ0I7QUFDdkYsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQjtBQUNsQixlQUFlLG1CQUFPLENBQUMsd0VBQVU7QUFDakMsOENBQTZDLEVBQUUscUNBQXFDLCtCQUErQixFQUFDO0FBQ3BILGFBQWEsbUJBQU8sQ0FBQyxnRkFBVztBQUNoQyxhQUFhLG1CQUFPLENBQUMsb0ZBQWdCO0FBQ3JDLGFBQWEsbUJBQU8sQ0FBQyxrRkFBZTtBQUNwQyxhQUFhLG1CQUFPLENBQUMsc0ZBQWlCO0FBQ3RDLGFBQWEsbUJBQU8sQ0FBQyx3RkFBa0I7QUFDdkMsYUFBYSxtQkFBTyxDQUFDLHdGQUFrQjtBQUN2QyxhQUFhLG1CQUFPLENBQUMsNEVBQVk7QUFDakMsYUFBYSxtQkFBTyxDQUFDLHNFQUFTO0FBQzlCLGFBQWEsbUJBQU8sQ0FBQyxzRUFBUztBQUM5QixhQUFhLG1CQUFPLENBQUMsNEZBQWlCO0FBQ3RDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVsbG8tbmVhci8uL25vZGVfbW9kdWxlcy9AaGVyZS13YWxsZXQvY29yZS9idWlsZC9pbmRleC5qcz81ZDVjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkhlcmVXYWxsZXQgPSB2b2lkIDA7XG52YXIgd2FsbGV0XzEgPSByZXF1aXJlKFwiLi93YWxsZXRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJIZXJlV2FsbGV0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB3YWxsZXRfMS5IZXJlV2FsbGV0OyB9IH0pO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2FjdGlvbnNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0hlcmVLZXlTdG9yZVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vSlNPTlN0b3JhZ2VcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2FjdGlvbnMvdHlwZXNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL1dpZGdldFN0cmF0ZWd5XCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9XaW5kb3dTdHJhdGVneVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vcHJvdmlkZXJcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3R5cGVzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi91dGlsc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vaGVyZS1wcm92aWRlclwiKSwgZXhwb3J0cyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/nep0314.js":
/*!*********************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/nep0314.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.verifySignature = exports.authPayloadSchema = exports.AuthPayload = void 0;\nconst borsh = __importStar(__webpack_require__(/*! borsh */ \"(ssr)/./node_modules/borsh/lib/index.js\"));\nconst js_sha256_1 = __importDefault(__webpack_require__(/*! js-sha256 */ \"(ssr)/./node_modules/js-sha256/src/sha256.js\"));\nconst utils_1 = __webpack_require__(/*! near-api-js/lib/utils */ \"(ssr)/./node_modules/near-api-js/lib/utils/index.js\");\nclass AuthPayload {\n    constructor({ message, nonce, recipient, callbackUrl }) {\n        this.tag = 2147484061;\n        this.message = message;\n        this.nonce = nonce;\n        this.recipient = recipient;\n        if (callbackUrl) {\n            this.callbackUrl = callbackUrl;\n        }\n    }\n}\nexports.AuthPayload = AuthPayload;\nexports.authPayloadSchema = new Map([\n    [\n        AuthPayload,\n        {\n            kind: \"struct\",\n            fields: [\n                [\"tag\", \"u32\"],\n                [\"message\", \"string\"],\n                [\"nonce\", [32]],\n                [\"recipient\", \"string\"],\n                [\"callbackUrl\", { kind: \"option\", type: \"string\" }],\n            ],\n        },\n    ],\n]);\nfunction verifySignature(request, result) {\n    // Reconstruct the payload that was **actually signed**\n    const payload = new AuthPayload(request);\n    const borsh_payload = borsh.serialize(exports.authPayloadSchema, payload);\n    const to_sign = Uint8Array.from(js_sha256_1.default.sha256.array(borsh_payload));\n    // Reconstruct the signature from the parameter given in the URL\n    let real_signature = new Uint8Array(Buffer.from(result.signature, \"base64\"));\n    // Use the public Key to verify that the private-counterpart signed the message\n    const myPK = utils_1.PublicKey.from(result.publicKey);\n    return myPK.verify(to_sign, real_signature);\n}\nexports.verifySignature = verifySignature;\n//# sourceMappingURL=nep0314.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvbmVwMDMxNC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQSxtQ0FBbUMsb0NBQW9DLGdCQUFnQjtBQUN2RixDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDBDQUEwQyw0QkFBNEI7QUFDdEUsQ0FBQztBQUNEO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCLEdBQUcseUJBQXlCLEdBQUcsbUJBQW1CO0FBQ3pFLDJCQUEyQixtQkFBTyxDQUFDLHNEQUFPO0FBQzFDLG9DQUFvQyxtQkFBTyxDQUFDLCtEQUFXO0FBQ3ZELGdCQUFnQixtQkFBTyxDQUFDLGtGQUF1QjtBQUMvQztBQUNBLGtCQUFrQix3Q0FBd0M7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsZ0NBQWdDO0FBQ2xFO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVsbG8tbmVhci8uL25vZGVfbW9kdWxlcy9AaGVyZS13YWxsZXQvY29yZS9idWlsZC9uZXAwMzE0LmpzPzkyZDciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudmVyaWZ5U2lnbmF0dXJlID0gZXhwb3J0cy5hdXRoUGF5bG9hZFNjaGVtYSA9IGV4cG9ydHMuQXV0aFBheWxvYWQgPSB2b2lkIDA7XG5jb25zdCBib3JzaCA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiYm9yc2hcIikpO1xuY29uc3QganNfc2hhMjU2XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImpzLXNoYTI1NlwiKSk7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIm5lYXItYXBpLWpzL2xpYi91dGlsc1wiKTtcbmNsYXNzIEF1dGhQYXlsb2FkIHtcbiAgICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UsIG5vbmNlLCByZWNpcGllbnQsIGNhbGxiYWNrVXJsIH0pIHtcbiAgICAgICAgdGhpcy50YWcgPSAyMTQ3NDg0MDYxO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICB0aGlzLm5vbmNlID0gbm9uY2U7XG4gICAgICAgIHRoaXMucmVjaXBpZW50ID0gcmVjaXBpZW50O1xuICAgICAgICBpZiAoY2FsbGJhY2tVcmwpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tVcmwgPSBjYWxsYmFja1VybDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuQXV0aFBheWxvYWQgPSBBdXRoUGF5bG9hZDtcbmV4cG9ydHMuYXV0aFBheWxvYWRTY2hlbWEgPSBuZXcgTWFwKFtcbiAgICBbXG4gICAgICAgIEF1dGhQYXlsb2FkLFxuICAgICAgICB7XG4gICAgICAgICAgICBraW5kOiBcInN0cnVjdFwiLFxuICAgICAgICAgICAgZmllbGRzOiBbXG4gICAgICAgICAgICAgICAgW1widGFnXCIsIFwidTMyXCJdLFxuICAgICAgICAgICAgICAgIFtcIm1lc3NhZ2VcIiwgXCJzdHJpbmdcIl0sXG4gICAgICAgICAgICAgICAgW1wibm9uY2VcIiwgWzMyXV0sXG4gICAgICAgICAgICAgICAgW1wicmVjaXBpZW50XCIsIFwic3RyaW5nXCJdLFxuICAgICAgICAgICAgICAgIFtcImNhbGxiYWNrVXJsXCIsIHsga2luZDogXCJvcHRpb25cIiwgdHlwZTogXCJzdHJpbmdcIiB9XSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgXSxcbl0pO1xuZnVuY3Rpb24gdmVyaWZ5U2lnbmF0dXJlKHJlcXVlc3QsIHJlc3VsdCkge1xuICAgIC8vIFJlY29uc3RydWN0IHRoZSBwYXlsb2FkIHRoYXQgd2FzICoqYWN0dWFsbHkgc2lnbmVkKipcbiAgICBjb25zdCBwYXlsb2FkID0gbmV3IEF1dGhQYXlsb2FkKHJlcXVlc3QpO1xuICAgIGNvbnN0IGJvcnNoX3BheWxvYWQgPSBib3JzaC5zZXJpYWxpemUoZXhwb3J0cy5hdXRoUGF5bG9hZFNjaGVtYSwgcGF5bG9hZCk7XG4gICAgY29uc3QgdG9fc2lnbiA9IFVpbnQ4QXJyYXkuZnJvbShqc19zaGEyNTZfMS5kZWZhdWx0LnNoYTI1Ni5hcnJheShib3JzaF9wYXlsb2FkKSk7XG4gICAgLy8gUmVjb25zdHJ1Y3QgdGhlIHNpZ25hdHVyZSBmcm9tIHRoZSBwYXJhbWV0ZXIgZ2l2ZW4gaW4gdGhlIFVSTFxuICAgIGxldCByZWFsX3NpZ25hdHVyZSA9IG5ldyBVaW50OEFycmF5KEJ1ZmZlci5mcm9tKHJlc3VsdC5zaWduYXR1cmUsIFwiYmFzZTY0XCIpKTtcbiAgICAvLyBVc2UgdGhlIHB1YmxpYyBLZXkgdG8gdmVyaWZ5IHRoYXQgdGhlIHByaXZhdGUtY291bnRlcnBhcnQgc2lnbmVkIHRoZSBtZXNzYWdlXG4gICAgY29uc3QgbXlQSyA9IHV0aWxzXzEuUHVibGljS2V5LmZyb20ocmVzdWx0LnB1YmxpY0tleSk7XG4gICAgcmV0dXJuIG15UEsudmVyaWZ5KHRvX3NpZ24sIHJlYWxfc2lnbmF0dXJlKTtcbn1cbmV4cG9ydHMudmVyaWZ5U2lnbmF0dXJlID0gdmVyaWZ5U2lnbmF0dXJlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmVwMDMxNC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/nep0314.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/provider.js":
/*!**********************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/provider.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.HereProviderError = exports.HereProviderStatus = void 0;\nvar HereProviderStatus;\n(function (HereProviderStatus) {\n    HereProviderStatus[HereProviderStatus[\"APPROVING\"] = 1] = \"APPROVING\";\n    HereProviderStatus[HereProviderStatus[\"FAILED\"] = 2] = \"FAILED\";\n    HereProviderStatus[HereProviderStatus[\"SUCCESS\"] = 3] = \"SUCCESS\";\n})(HereProviderStatus = exports.HereProviderStatus || (exports.HereProviderStatus = {}));\nclass HereProviderError extends Error {\n    constructor(payload, parentError) {\n        super(payload !== null && payload !== void 0 ? payload : parentError === null || parentError === void 0 ? void 0 : parentError.message);\n        this.payload = payload;\n        this.parentError = parentError;\n    }\n}\nexports.HereProviderError = HereProviderError;\n//# sourceMappingURL=provider.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvcHJvdmlkZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QseUJBQXlCLEdBQUcsMEJBQTBCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHNEQUFzRCwwQkFBMEIsS0FBSztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL2hlbGxvLW5lYXIvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvcHJvdmlkZXIuanM/NGU1NCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSGVyZVByb3ZpZGVyRXJyb3IgPSBleHBvcnRzLkhlcmVQcm92aWRlclN0YXR1cyA9IHZvaWQgMDtcbnZhciBIZXJlUHJvdmlkZXJTdGF0dXM7XG4oZnVuY3Rpb24gKEhlcmVQcm92aWRlclN0YXR1cykge1xuICAgIEhlcmVQcm92aWRlclN0YXR1c1tIZXJlUHJvdmlkZXJTdGF0dXNbXCJBUFBST1ZJTkdcIl0gPSAxXSA9IFwiQVBQUk9WSU5HXCI7XG4gICAgSGVyZVByb3ZpZGVyU3RhdHVzW0hlcmVQcm92aWRlclN0YXR1c1tcIkZBSUxFRFwiXSA9IDJdID0gXCJGQUlMRURcIjtcbiAgICBIZXJlUHJvdmlkZXJTdGF0dXNbSGVyZVByb3ZpZGVyU3RhdHVzW1wiU1VDQ0VTU1wiXSA9IDNdID0gXCJTVUNDRVNTXCI7XG59KShIZXJlUHJvdmlkZXJTdGF0dXMgPSBleHBvcnRzLkhlcmVQcm92aWRlclN0YXR1cyB8fCAoZXhwb3J0cy5IZXJlUHJvdmlkZXJTdGF0dXMgPSB7fSkpO1xuY2xhc3MgSGVyZVByb3ZpZGVyRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IocGF5bG9hZCwgcGFyZW50RXJyb3IpIHtcbiAgICAgICAgc3VwZXIocGF5bG9hZCAhPT0gbnVsbCAmJiBwYXlsb2FkICE9PSB2b2lkIDAgPyBwYXlsb2FkIDogcGFyZW50RXJyb3IgPT09IG51bGwgfHwgcGFyZW50RXJyb3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudEVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnBheWxvYWQgPSBwYXlsb2FkO1xuICAgICAgICB0aGlzLnBhcmVudEVycm9yID0gcGFyZW50RXJyb3I7XG4gICAgfVxufVxuZXhwb3J0cy5IZXJlUHJvdmlkZXJFcnJvciA9IEhlcmVQcm92aWRlckVycm9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvdmlkZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/provider.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/types.js":
/*!*******************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/types.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvdHlwZXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWxsby1uZWFyLy4vbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL3R5cGVzLmpzPzhjMjAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/utils.js":
/*!*******************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/utils.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isValidAccessKey = exports.internalThrow = exports.getPublicKeys = exports.serializeActions = exports.isMobile = exports.getDeviceId = void 0;\nconst uuid4_1 = __importDefault(__webpack_require__(/*! uuid4 */ \"(ssr)/./node_modules/uuid4/index.js\"));\nconst provider_1 = __webpack_require__(/*! ./provider */ \"(ssr)/./node_modules/@here-wallet/core/build/provider.js\");\nconst getDeviceId = () => {\n    const topicId = window.localStorage.getItem(\"herewallet-topic\") || (0, uuid4_1.default)();\n    window.localStorage.setItem(\"herewallet-topic\", topicId);\n    return topicId;\n};\nexports.getDeviceId = getDeviceId;\nconst isMobile = () => {\n    return window.matchMedia(\"(any-pointer:coarse)\").matches;\n};\nexports.isMobile = isMobile;\nconst serializeActions = (actions) => {\n    return actions.map((act) => {\n        if (act.type !== \"FunctionCall\")\n            return act;\n        let { args, deposit, gas, methodName } = act.params;\n        if (ArrayBuffer.isView(args)) {\n            args = Buffer.from(args.buffer, args.byteOffset, args.byteLength);\n        }\n        if (args instanceof Buffer) {\n            args = args.toString(\"base64\");\n        }\n        return {\n            type: act.type,\n            params: { args, deposit, gas, methodName },\n        };\n    });\n};\nexports.serializeActions = serializeActions;\nconst getPublicKeys = (rpc, accountId) => __awaiter(void 0, void 0, void 0, function* () {\n    const res = yield fetch(rpc, {\n        method: \"POST\",\n        body: JSON.stringify({\n            jsonrpc: \"2.0\",\n            id: \"dontcare\",\n            method: \"query\",\n            params: {\n                request_type: \"view_access_key_list\",\n                finality: \"final\",\n                account_id: accountId,\n            },\n        }),\n        headers: {\n            \"content-type\": \"application/json\",\n        },\n    });\n    if (res.ok === false) {\n        return [];\n    }\n    const data = yield res.json();\n    return data.result.keys;\n});\nexports.getPublicKeys = getPublicKeys;\nconst internalThrow = (error, delegate) => {\n    var _a, _b, _c;\n    if (error instanceof provider_1.HereProviderError) {\n        throw error;\n    }\n    const result = {\n        payload: error instanceof Error ? error.message : \"UNKNOWN\",\n        status: provider_1.HereProviderStatus.FAILED,\n        account_id: \"\",\n    };\n    (_a = delegate.onFailed) === null || _a === void 0 ? void 0 : _a.call(delegate, result);\n    (_c = (_b = delegate === null || delegate === void 0 ? void 0 : delegate.strategy) === null || _b === void 0 ? void 0 : _b.onFailed) === null || _c === void 0 ? void 0 : _c.call(_b, result);\n    throw error;\n};\nexports.internalThrow = internalThrow;\nconst isValidAccessKey = (accountId, accessKey, call) => {\n    const { permission } = accessKey.access_key;\n    if (permission === \"FullAccess\") {\n        return true;\n    }\n    if (permission.FunctionCall) {\n        const { receiver_id: allowedReceiverId, method_names: allowedMethods } = permission.FunctionCall;\n        /********************************\n        Accept multisig access keys and let wallets attempt to signAndSendTransaction\n        If an access key has itself as receiverId and method permission add_request_and_confirm, then it is being used in a wallet with multisig contract: https://github.com/near/core-contracts/blob/671c05f09abecabe7a7e58efe942550a35fc3292/multisig/src/lib.rs#L149-L153\n        ********************************/\n        if (allowedReceiverId === accountId && allowedMethods.includes(\"add_request_and_confirm\")) {\n            return true;\n        }\n        if (allowedReceiverId === call.receiverId) {\n            if (call.actions.length !== 1)\n                return false;\n            return call.actions.every((action) => {\n                if (action.type !== \"FunctionCall\")\n                    return false;\n                return ((!action.params.deposit || action.params.deposit.toString() === \"0\") &&\n                    (allowedMethods.length === 0 || allowedMethods.includes(action.params.methodName)));\n            });\n        }\n    }\n    return false;\n};\nexports.isValidAccessKey = isValidAccessKey;\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvdXRpbHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsd0JBQXdCLEdBQUcscUJBQXFCLEdBQUcscUJBQXFCLEdBQUcsd0JBQXdCLEdBQUcsZ0JBQWdCLEdBQUcsbUJBQW1CO0FBQzVJLGdDQUFnQyxtQkFBTyxDQUFDLGtEQUFPO0FBQy9DLG1CQUFtQixtQkFBTyxDQUFDLDRFQUFZO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxpQ0FBaUM7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnQ0FBZ0M7QUFDdEQ7QUFDQSxLQUFLO0FBQ0w7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwrREFBK0Q7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVsbG8tbmVhci8uL25vZGVfbW9kdWxlcy9AaGVyZS13YWxsZXQvY29yZS9idWlsZC91dGlscy5qcz8xMjZjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzVmFsaWRBY2Nlc3NLZXkgPSBleHBvcnRzLmludGVybmFsVGhyb3cgPSBleHBvcnRzLmdldFB1YmxpY0tleXMgPSBleHBvcnRzLnNlcmlhbGl6ZUFjdGlvbnMgPSBleHBvcnRzLmlzTW9iaWxlID0gZXhwb3J0cy5nZXREZXZpY2VJZCA9IHZvaWQgMDtcbmNvbnN0IHV1aWQ0XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcInV1aWQ0XCIpKTtcbmNvbnN0IHByb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9wcm92aWRlclwiKTtcbmNvbnN0IGdldERldmljZUlkID0gKCkgPT4ge1xuICAgIGNvbnN0IHRvcGljSWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJoZXJld2FsbGV0LXRvcGljXCIpIHx8ICgwLCB1dWlkNF8xLmRlZmF1bHQpKCk7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiaGVyZXdhbGxldC10b3BpY1wiLCB0b3BpY0lkKTtcbiAgICByZXR1cm4gdG9waWNJZDtcbn07XG5leHBvcnRzLmdldERldmljZUlkID0gZ2V0RGV2aWNlSWQ7XG5jb25zdCBpc01vYmlsZSA9ICgpID0+IHtcbiAgICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEoXCIoYW55LXBvaW50ZXI6Y29hcnNlKVwiKS5tYXRjaGVzO1xufTtcbmV4cG9ydHMuaXNNb2JpbGUgPSBpc01vYmlsZTtcbmNvbnN0IHNlcmlhbGl6ZUFjdGlvbnMgPSAoYWN0aW9ucykgPT4ge1xuICAgIHJldHVybiBhY3Rpb25zLm1hcCgoYWN0KSA9PiB7XG4gICAgICAgIGlmIChhY3QudHlwZSAhPT0gXCJGdW5jdGlvbkNhbGxcIilcbiAgICAgICAgICAgIHJldHVybiBhY3Q7XG4gICAgICAgIGxldCB7IGFyZ3MsIGRlcG9zaXQsIGdhcywgbWV0aG9kTmFtZSB9ID0gYWN0LnBhcmFtcztcbiAgICAgICAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhhcmdzKSkge1xuICAgICAgICAgICAgYXJncyA9IEJ1ZmZlci5mcm9tKGFyZ3MuYnVmZmVyLCBhcmdzLmJ5dGVPZmZzZXQsIGFyZ3MuYnl0ZUxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFyZ3MgaW5zdGFuY2VvZiBCdWZmZXIpIHtcbiAgICAgICAgICAgIGFyZ3MgPSBhcmdzLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBhY3QudHlwZSxcbiAgICAgICAgICAgIHBhcmFtczogeyBhcmdzLCBkZXBvc2l0LCBnYXMsIG1ldGhvZE5hbWUgfSxcbiAgICAgICAgfTtcbiAgICB9KTtcbn07XG5leHBvcnRzLnNlcmlhbGl6ZUFjdGlvbnMgPSBzZXJpYWxpemVBY3Rpb25zO1xuY29uc3QgZ2V0UHVibGljS2V5cyA9IChycGMsIGFjY291bnRJZCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc3QgcmVzID0geWllbGQgZmV0Y2gocnBjLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGpzb25ycGM6IFwiMi4wXCIsXG4gICAgICAgICAgICBpZDogXCJkb250Y2FyZVwiLFxuICAgICAgICAgICAgbWV0aG9kOiBcInF1ZXJ5XCIsXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0X3R5cGU6IFwidmlld19hY2Nlc3Nfa2V5X2xpc3RcIixcbiAgICAgICAgICAgICAgICBmaW5hbGl0eTogXCJmaW5hbFwiLFxuICAgICAgICAgICAgICAgIGFjY291bnRfaWQ6IGFjY291bnRJZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICBpZiAocmVzLm9rID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSB5aWVsZCByZXMuanNvbigpO1xuICAgIHJldHVybiBkYXRhLnJlc3VsdC5rZXlzO1xufSk7XG5leHBvcnRzLmdldFB1YmxpY0tleXMgPSBnZXRQdWJsaWNLZXlzO1xuY29uc3QgaW50ZXJuYWxUaHJvdyA9IChlcnJvciwgZGVsZWdhdGUpID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBwcm92aWRlcl8xLkhlcmVQcm92aWRlckVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIHBheWxvYWQ6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVTktOT1dOXCIsXG4gICAgICAgIHN0YXR1czogcHJvdmlkZXJfMS5IZXJlUHJvdmlkZXJTdGF0dXMuRkFJTEVELFxuICAgICAgICBhY2NvdW50X2lkOiBcIlwiLFxuICAgIH07XG4gICAgKF9hID0gZGVsZWdhdGUub25GYWlsZWQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGRlbGVnYXRlLCByZXN1bHQpO1xuICAgIChfYyA9IChfYiA9IGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5zdHJhdGVneSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLm9uRmFpbGVkKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChfYiwgcmVzdWx0KTtcbiAgICB0aHJvdyBlcnJvcjtcbn07XG5leHBvcnRzLmludGVybmFsVGhyb3cgPSBpbnRlcm5hbFRocm93O1xuY29uc3QgaXNWYWxpZEFjY2Vzc0tleSA9IChhY2NvdW50SWQsIGFjY2Vzc0tleSwgY2FsbCkgPT4ge1xuICAgIGNvbnN0IHsgcGVybWlzc2lvbiB9ID0gYWNjZXNzS2V5LmFjY2Vzc19rZXk7XG4gICAgaWYgKHBlcm1pc3Npb24gPT09IFwiRnVsbEFjY2Vzc1wiKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAocGVybWlzc2lvbi5GdW5jdGlvbkNhbGwpIHtcbiAgICAgICAgY29uc3QgeyByZWNlaXZlcl9pZDogYWxsb3dlZFJlY2VpdmVySWQsIG1ldGhvZF9uYW1lczogYWxsb3dlZE1ldGhvZHMgfSA9IHBlcm1pc3Npb24uRnVuY3Rpb25DYWxsO1xuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgICAgQWNjZXB0IG11bHRpc2lnIGFjY2VzcyBrZXlzIGFuZCBsZXQgd2FsbGV0cyBhdHRlbXB0IHRvIHNpZ25BbmRTZW5kVHJhbnNhY3Rpb25cbiAgICAgICAgSWYgYW4gYWNjZXNzIGtleSBoYXMgaXRzZWxmIGFzIHJlY2VpdmVySWQgYW5kIG1ldGhvZCBwZXJtaXNzaW9uIGFkZF9yZXF1ZXN0X2FuZF9jb25maXJtLCB0aGVuIGl0IGlzIGJlaW5nIHVzZWQgaW4gYSB3YWxsZXQgd2l0aCBtdWx0aXNpZyBjb250cmFjdDogaHR0cHM6Ly9naXRodWIuY29tL25lYXIvY29yZS1jb250cmFjdHMvYmxvYi82NzFjMDVmMDlhYmVjYWJlN2E3ZTU4ZWZlOTQyNTUwYTM1ZmMzMjkyL211bHRpc2lnL3NyYy9saWIucnMjTDE0OS1MMTUzXG4gICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgICAgICBpZiAoYWxsb3dlZFJlY2VpdmVySWQgPT09IGFjY291bnRJZCAmJiBhbGxvd2VkTWV0aG9kcy5pbmNsdWRlcyhcImFkZF9yZXF1ZXN0X2FuZF9jb25maXJtXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWxsb3dlZFJlY2VpdmVySWQgPT09IGNhbGwucmVjZWl2ZXJJZCkge1xuICAgICAgICAgICAgaWYgKGNhbGwuYWN0aW9ucy5sZW5ndGggIT09IDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIGNhbGwuYWN0aW9ucy5ldmVyeSgoYWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbi50eXBlICE9PSBcIkZ1bmN0aW9uQ2FsbFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgoIWFjdGlvbi5wYXJhbXMuZGVwb3NpdCB8fCBhY3Rpb24ucGFyYW1zLmRlcG9zaXQudG9TdHJpbmcoKSA9PT0gXCIwXCIpICYmXG4gICAgICAgICAgICAgICAgICAgIChhbGxvd2VkTWV0aG9kcy5sZW5ndGggPT09IDAgfHwgYWxsb3dlZE1ldGhvZHMuaW5jbHVkZXMoYWN0aW9uLnBhcmFtcy5tZXRob2ROYW1lKSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmV4cG9ydHMuaXNWYWxpZEFjY2Vzc0tleSA9IGlzVmFsaWRBY2Nlc3NLZXk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/wallet.js":
/*!********************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/wallet.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.HereWallet = void 0;\nconst near_api_js_1 = __webpack_require__(/*! near-api-js */ \"(ssr)/./node_modules/near-api-js/lib/index.js\");\nconst providers_1 = __webpack_require__(/*! near-api-js/lib/providers */ \"(ssr)/./node_modules/near-api-js/lib/providers/index.js\");\nconst key_pair_1 = __webpack_require__(/*! near-api-js/lib/utils/key_pair */ \"(ssr)/./node_modules/near-api-js/lib/utils/key_pair.js\");\nconst js_sha256_1 = __webpack_require__(/*! js-sha256 */ \"(ssr)/./node_modules/js-sha256/src/sha256.js\");\nconst crypto_1 = __webpack_require__(/*! crypto */ \"crypto\");\nconst bn_js_1 = __importDefault(__webpack_require__(/*! bn.js */ \"(ssr)/./node_modules/bn.js/lib/bn.js\"));\nconst HereKeyStore_1 = __webpack_require__(/*! ./HereKeyStore */ \"(ssr)/./node_modules/@here-wallet/core/build/HereKeyStore.js\");\nconst provider_1 = __webpack_require__(/*! ./provider */ \"(ssr)/./node_modules/@here-wallet/core/build/provider.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@here-wallet/core/build/utils.js\");\nconst here_provider_1 = __webpack_require__(/*! ./here-provider */ \"(ssr)/./node_modules/@here-wallet/core/build/here-provider/index.js\");\nconst actions_1 = __webpack_require__(/*! ./actions */ \"(ssr)/./node_modules/@here-wallet/core/build/actions/index.js\");\nconst WidgetStrategy_1 = __webpack_require__(/*! ./WidgetStrategy */ \"(ssr)/./node_modules/@here-wallet/core/build/WidgetStrategy.js\");\nconst nep0314_1 = __webpack_require__(/*! ./nep0314 */ \"(ssr)/./node_modules/@here-wallet/core/build/nep0314.js\");\nclass AccessDenied extends Error {\n}\nclass HereWallet {\n    constructor({ nodeUrl, networkId = \"mainnet\", authStorage = new HereKeyStore_1.HereKeyStore(), defaultStrategy = () => new WidgetStrategy_1.WidgetStrategy(), defaultProvider = here_provider_1.proxyProvider, } = {}) {\n        this.authStorage = authStorage;\n        this.defaultProvider = defaultProvider;\n        this.defaultStrategy = defaultStrategy;\n        const signer = new near_api_js_1.InMemorySigner(this.authStorage);\n        const rpc = new providers_1.JsonRpcProvider({ url: nodeUrl !== null && nodeUrl !== void 0 ? nodeUrl : `https://rpc.${networkId}.near.org` });\n        this.connection = near_api_js_1.Connection.fromConfig({\n            jsvmAccountId: `jsvm.${networkId}`,\n            provider: rpc,\n            networkId,\n            signer,\n        });\n    }\n    get rpc() {\n        return this.connection.provider;\n    }\n    get signer() {\n        return this.connection.signer;\n    }\n    get networkId() {\n        return this.connection.networkId;\n    }\n    account(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const accountId = id !== null && id !== void 0 ? id : (yield this.authStorage.getActiveAccount(this.networkId));\n            if (accountId == null)\n                throw new AccessDenied(\"Wallet not signed in\");\n            return new near_api_js_1.Account(this.connection, accountId);\n        });\n    }\n    isSignedIn() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const id = yield this.authStorage.getActiveAccount(this.networkId);\n            return id != null;\n        });\n    }\n    signOut() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const accountId = yield this.authStorage.getActiveAccount(this.networkId);\n            if (accountId == null)\n                throw new AccessDenied(\"Wallet not signed in\");\n            const key = yield this.authStorage.getKey(this.networkId, accountId);\n            if (key != null) {\n                const publicKey = key.getPublicKey().toString();\n                yield this.silentSignAndSendTransaction({\n                    receiverId: accountId,\n                    actions: [{ type: \"DeleteKey\", params: { publicKey } }],\n                }).catch(() => { });\n            }\n            yield this.authStorage.removeKey(this.networkId, accountId);\n        });\n    }\n    getHereBalance(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const account = yield this.account(id);\n            const contractId = this.networkId === \"mainnet\" ? \"here.storage.near\" : \"here.storage.testnet\";\n            const hereCoins = yield account\n                .viewFunction({\n                args: { account_id: account.accountId },\n                methodName: \"ft_balance_of\",\n                contractId,\n            })\n                .catch(() => \"0\");\n            return new bn_js_1.default(hereCoins);\n        });\n    }\n    getAvailableBalance(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const account = yield this.account(id);\n            const result = yield account.getAccountBalance();\n            const hereBalance = yield this.getHereBalance();\n            return new bn_js_1.default(result.available).add(new bn_js_1.default(hereBalance));\n        });\n    }\n    getAccounts() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.authStorage.getAccounts(this.networkId);\n        });\n    }\n    getAccountId() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const accountId = yield this.authStorage.getActiveAccount(this.networkId);\n            if (accountId == null)\n                throw new AccessDenied(\"Wallet not signed in\");\n            return accountId;\n        });\n    }\n    switchAccount(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const key = yield this.authStorage.getKey(this.networkId, id);\n            if (key == null)\n                throw new Error(`Account ${id} not signed in`);\n            yield this.authStorage.setActiveAccount(this.networkId, id);\n        });\n    }\n    signIn(_a = {}) {\n        var _b, _c, _d, _e, _f;\n        var { contractId, allowance, methodNames = [] } = _a, delegate = __rest(_a, [\"contractId\", \"allowance\", \"methodNames\"]);\n        return __awaiter(this, void 0, void 0, function* () {\n            if (contractId == null) {\n                const { accountId } = yield this.authenticate(delegate);\n                // Generate random keypair\n                yield this.authStorage.setKey(this.networkId, accountId, key_pair_1.KeyPairEd25519.fromRandom());\n                yield this.authStorage.setActiveAccount(this.networkId, accountId);\n                return accountId;\n            }\n            delegate.strategy = (_b = delegate.strategy) !== null && _b !== void 0 ? _b : this.defaultStrategy();\n            delegate.provider = (_c = delegate.provider) !== null && _c !== void 0 ? _c : this.defaultProvider;\n            (_d = delegate.onInitialized) === null || _d === void 0 ? void 0 : _d.call(delegate);\n            (_f = (_e = delegate.strategy) === null || _e === void 0 ? void 0 : _e.onInitialized) === null || _f === void 0 ? void 0 : _f.call(_e);\n            try {\n                const accessKey = near_api_js_1.KeyPair.fromRandom(\"ed25519\");\n                const permission = { receiverId: contractId, methodNames, allowance };\n                const data = yield delegate.provider(Object.assign(Object.assign({}, delegate), { request: {\n                        type: \"call\",\n                        network: this.networkId,\n                        transactions: [\n                            {\n                                actions: [\n                                    {\n                                        type: \"AddKey\",\n                                        params: {\n                                            publicKey: accessKey.getPublicKey().toString(),\n                                            accessKey: { permission },\n                                        },\n                                    },\n                                ],\n                            },\n                        ],\n                    } }));\n                if (data.account_id == null) {\n                    throw Error(\"Transaction is failed\");\n                }\n                yield this.authStorage.setKey(this.networkId, data.account_id, accessKey);\n                yield this.authStorage.setActiveAccount(this.networkId, data.account_id);\n                return data.account_id;\n            }\n            catch (error) {\n                (0, utils_1.internalThrow)(error, delegate);\n                throw error;\n            }\n        });\n    }\n    silentSignAndSendTransaction({ actions, receiverId, signerId }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const account = yield this.account(signerId);\n            const localKey = yield this.authStorage.getKey(this.networkId, account.accountId);\n            if (localKey == null)\n                throw new AccessDenied();\n            const publicKey = localKey.getPublicKey();\n            const accessKeys = yield account.getAccessKeys();\n            const call = { receiverId, actions };\n            const isValid = accessKeys.some((v) => {\n                if (v.public_key !== publicKey.toString())\n                    return false;\n                return (0, utils_1.isValidAccessKey)(account.accountId, v, call);\n            });\n            if (isValid === false)\n                throw new AccessDenied();\n            return yield account.signAndSendTransaction({\n                actions: actions.map((a) => (0, actions_1.createAction)(a)),\n                receiverId: receiverId !== null && receiverId !== void 0 ? receiverId : account.accountId,\n            });\n        });\n    }\n    signAndSendTransaction(opts) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        return __awaiter(this, void 0, void 0, function* () {\n            const { signerId, receiverId, actions } = opts, args = __rest(opts, [\"signerId\", \"receiverId\", \"actions\"]);\n            const delegate = args;\n            delegate.strategy = (_a = delegate.strategy) !== null && _a !== void 0 ? _a : this.defaultStrategy();\n            delegate.provider = (_b = delegate.provider) !== null && _b !== void 0 ? _b : this.defaultProvider;\n            (_c = delegate.onInitialized) === null || _c === void 0 ? void 0 : _c.call(delegate);\n            (_e = (_d = delegate.strategy) === null || _d === void 0 ? void 0 : _d.onInitialized) === null || _e === void 0 ? void 0 : _e.call(_d);\n            try {\n                const result = yield this.silentSignAndSendTransaction({ receiverId, actions, signerId });\n                const success = { status: provider_1.HereProviderStatus.SUCCESS, payload: result === null || result === void 0 ? void 0 : result.transaction_outcome.id };\n                (_f = delegate.onSuccess) === null || _f === void 0 ? void 0 : _f.call(delegate, success);\n                (_h = (_g = delegate.strategy) === null || _g === void 0 ? void 0 : _g.onSuccess) === null || _h === void 0 ? void 0 : _h.call(_g, success);\n                return result;\n            }\n            catch (e) {\n                try {\n                    // If silent sign return AccessDenied or NotEnoughAllowance we request mobile wallet\n                    // OR its just transaction error\n                    if (!(e instanceof AccessDenied) && (e === null || e === void 0 ? void 0 : e.type) !== \"NotEnoughAllowance\") {\n                        (0, utils_1.internalThrow)(e, delegate);\n                        throw e;\n                    }\n                    const data = yield delegate.provider(Object.assign(Object.assign({}, delegate), { request: {\n                            type: \"call\",\n                            transactions: [{ actions: (0, utils_1.serializeActions)(actions), receiverId, signerId }],\n                            network: this.networkId,\n                        } }));\n                    if (data.payload == null || data.account_id == null) {\n                        throw Error(\"Transaction not found, but maybe executed\");\n                    }\n                    return yield this.rpc.txStatus(data.payload, data.account_id);\n                }\n                catch (error) {\n                    (0, utils_1.internalThrow)(error, delegate);\n                    throw error;\n                }\n            }\n        });\n    }\n    verifyMessageNEP0413(request, result) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const isSignatureValid = (0, nep0314_1.verifySignature)(request, result);\n            if (!isSignatureValid)\n                throw Error(\"Incorrect signature\");\n            const account = yield this.account(result.accountId);\n            const keys = yield account.getAccessKeys();\n            const isFullAccess = keys.some((k) => {\n                if (k.public_key !== result.publicKey)\n                    return false;\n                if (k.access_key.permission !== \"FullAccess\")\n                    return false;\n                return true;\n            });\n            if (!isFullAccess)\n                throw Error(\"Signer public key is not full access\");\n            return true;\n        });\n    }\n    authenticate(options = {}) {\n        var _a, _b, _c;\n        return __awaiter(this, void 0, void 0, function* () {\n            const signRequest = {\n                nonce: (_a = options.nonce) !== null && _a !== void 0 ? _a : (0, crypto_1.randomBytes)(32),\n                recipient: (_b = options.recipient) !== null && _b !== void 0 ? _b : window.location.host,\n                message: (_c = options.message) !== null && _c !== void 0 ? _c : \"Authenticate\",\n            };\n            const signed = yield this.signMessage(Object.assign(Object.assign({}, signRequest), options));\n            yield this.verifyMessageNEP0413(signRequest, signed);\n            return signed;\n        });\n    }\n    signMessage(options) {\n        var _a, _b, _c, _d, _e;\n        return __awaiter(this, void 0, void 0, function* () {\n            options.strategy = (_a = options.strategy) !== null && _a !== void 0 ? _a : this.defaultStrategy();\n            options.provider = (_b = options.provider) !== null && _b !== void 0 ? _b : this.defaultProvider;\n            (_c = options.onInitialized) === null || _c === void 0 ? void 0 : _c.call(options);\n            (_e = (_d = options.strategy) === null || _d === void 0 ? void 0 : _d.onInitialized) === null || _e === void 0 ? void 0 : _e.call(_d);\n            // Legacy format with receiver property, does not correspond to the current version of the standard\n            if (\"receiver\" in options)\n                return yield this.legacySignMessage(options);\n            const data = yield options.provider(Object.assign(Object.assign({}, options), { request: {\n                    type: \"sign\",\n                    message: options.message,\n                    recipient: options.recipient,\n                    nonce: Array.from(options.nonce),\n                    network: this.networkId,\n                } }));\n            if ((data === null || data === void 0 ? void 0 : data.payload) == null)\n                throw Error(\"Signature not found\");\n            const { publicKey, signature, accountId } = JSON.parse(data.payload);\n            return { publicKey, signature, accountId };\n        });\n    }\n    legacySignMessage(_a) {\n        var _b;\n        var { message, receiver, nonce } = _a, delegate = __rest(_a, [\"message\", \"receiver\", \"nonce\"]);\n        return __awaiter(this, void 0, void 0, function* () {\n            if (nonce == null) {\n                let nonceArray = new Uint8Array(32);\n                nonce = [...crypto.getRandomValues(nonceArray)];\n            }\n            const data = yield ((_b = delegate.provider) === null || _b === void 0 ? void 0 : _b.call(delegate, Object.assign(Object.assign({}, delegate), { request: { type: \"sign\", message, receiver, nonce, network: this.networkId } })));\n            if ((data === null || data === void 0 ? void 0 : data.payload) == null) {\n                throw Error(\"Signature not found\");\n            }\n            try {\n                const { publicKey, signature, accountId } = JSON.parse(data.payload);\n                const sign = new Uint8Array(Buffer.from(signature, \"base64\"));\n                const json = JSON.stringify({ message, receiver, nonce });\n                const msg = new Uint8Array(js_sha256_1.sha256.digest(`NEP0413:` + json));\n                const isVerify = key_pair_1.PublicKey.from(publicKey).verify(msg, sign);\n                if (isVerify === false)\n                    throw Error();\n                const account = yield this.account(accountId);\n                const keys = yield account.getAccessKeys();\n                const pb = publicKey.toString();\n                const isValid = keys.some((k) => {\n                    if (k.public_key !== pb)\n                        return false;\n                    if (k.access_key.permission !== \"FullAccess\")\n                        return false;\n                    return true;\n                });\n                if (isValid === false)\n                    throw Error();\n                return {\n                    signature: new Uint8Array(Buffer.from(signature, \"base64\")),\n                    publicKey: key_pair_1.PublicKey.from(publicKey),\n                    message: `NEP0413:` + json,\n                    receiver,\n                    accountId,\n                    nonce,\n                };\n            }\n            catch (_c) {\n                throw Error(\"Signature not correct\");\n            }\n        });\n    }\n    signAndSendTransactions(_a) {\n        var _b, _c, _d, _e, _f, _g, _h, _j;\n        var { transactions } = _a, delegate = __rest(_a, [\"transactions\"]);\n        return __awaiter(this, void 0, void 0, function* () {\n            delegate.strategy = (_b = delegate.strategy) !== null && _b !== void 0 ? _b : this.defaultStrategy();\n            delegate.provider = (_c = delegate.provider) !== null && _c !== void 0 ? _c : this.defaultProvider;\n            (_d = delegate.onInitialized) === null || _d === void 0 ? void 0 : _d.call(delegate);\n            (_f = (_e = delegate.strategy) === null || _e === void 0 ? void 0 : _e.onInitialized) === null || _f === void 0 ? void 0 : _f.call(_e);\n            let results = [];\n            try {\n                for (const call of transactions) {\n                    const r = yield this.silentSignAndSendTransaction(call);\n                    results.push(r);\n                }\n                const payload = results.map((result) => result.transaction_outcome.id).join(\",\");\n                const success = { status: provider_1.HereProviderStatus.SUCCESS, payload };\n                (_g = delegate.onSuccess) === null || _g === void 0 ? void 0 : _g.call(delegate, success);\n                (_j = (_h = delegate.strategy) === null || _h === void 0 ? void 0 : _h.onSuccess) === null || _j === void 0 ? void 0 : _j.call(_h, success);\n                return results;\n            }\n            catch (e) {\n                try {\n                    // If silent sign return access denied or not enough balance we request mobile wallet\n                    // OR its just transaction error\n                    if (!(e instanceof AccessDenied) && (e === null || e === void 0 ? void 0 : e.type) !== \"NotEnoughAllowance\") {\n                        (0, utils_1.internalThrow)(e, delegate);\n                        throw e;\n                    }\n                    const uncompleted = transactions.slice(results.length);\n                    const data = yield delegate.provider(Object.assign(Object.assign({}, delegate), { request: {\n                            type: \"call\",\n                            transactions: uncompleted.map((trx) => (Object.assign(Object.assign({}, trx), { actions: (0, utils_1.serializeActions)(trx.actions) }))),\n                            network: this.networkId,\n                        } }));\n                    if (data.payload == null || data.account_id == null) {\n                        throw Error(\"Transaction not found, but maybe executed\");\n                    }\n                    const promises = data.payload.split(\",\").map((id) => this.rpc.txStatus(id, data.account_id));\n                    return yield Promise.all(promises);\n                }\n                catch (error) {\n                    (0, utils_1.internalThrow)(error, delegate);\n                    throw error;\n                }\n            }\n        });\n    }\n}\nexports.HereWallet = HereWallet;\n//# sourceMappingURL=wallet.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvd2FsbGV0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsY0FBYztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCO0FBQ2xCLHNCQUFzQixtQkFBTyxDQUFDLGtFQUFhO0FBQzNDLG9CQUFvQixtQkFBTyxDQUFDLDBGQUEyQjtBQUN2RCxtQkFBbUIsbUJBQU8sQ0FBQyw4RkFBZ0M7QUFDM0Qsb0JBQW9CLG1CQUFPLENBQUMsK0RBQVc7QUFDdkMsaUJBQWlCLG1CQUFPLENBQUMsc0JBQVE7QUFDakMsZ0NBQWdDLG1CQUFPLENBQUMsbURBQU87QUFDL0MsdUJBQXVCLG1CQUFPLENBQUMsb0ZBQWdCO0FBQy9DLG1CQUFtQixtQkFBTyxDQUFDLDRFQUFZO0FBQ3ZDLGdCQUFnQixtQkFBTyxDQUFDLHNFQUFTO0FBQ2pDLHdCQUF3QixtQkFBTyxDQUFDLDRGQUFpQjtBQUNqRCxrQkFBa0IsbUJBQU8sQ0FBQyxnRkFBVztBQUNyQyx5QkFBeUIsbUJBQU8sQ0FBQyx3RkFBa0I7QUFDbkQsa0JBQWtCLG1CQUFPLENBQUMsMEVBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG1NQUFtTSxJQUFJO0FBQ3pOO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELHVFQUF1RSxVQUFVLFlBQVk7QUFDbko7QUFDQSxtQ0FBbUMsVUFBVTtBQUM3QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDZCQUE2QixhQUFhO0FBQzFFLGlCQUFpQixpQkFBaUI7QUFDbEM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwrQkFBK0I7QUFDdkQ7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsSUFBSTtBQUMvQztBQUNBLFNBQVM7QUFDVDtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBLGNBQWMsMENBQTBDO0FBQ3hEO0FBQ0E7QUFDQSx3QkFBd0IsWUFBWTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDLG1GQUFtRixlQUFlO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxZQUFZO0FBQ3JFLHlDQUF5QztBQUN6QyxxQ0FBcUM7QUFDckM7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLG1DQUFtQywrQkFBK0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0NBQWdDO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSwrQkFBK0I7QUFDeEcsa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVGQUF1RixlQUFlO0FBQ3RHO0FBQ0EsNkNBQTZDLHVFQUF1RTtBQUNwSDtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRjtBQUNoRjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsY0FBYztBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQSxvQkFBb0Isa0NBQWtDO0FBQ3RELHFCQUFxQjtBQUNyQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsY0FBYywyQkFBMkI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhJQUE4SSxlQUFlLFdBQVcsbUVBQW1FO0FBQzNPO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGtDQUFrQztBQUMxRDtBQUNBLDhDQUE4QywwQkFBMEI7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxjQUFjLGVBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUZBQXVGLGVBQWU7QUFDdEc7QUFDQSxrR0FBa0csVUFBVSxxREFBcUQ7QUFDaks7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVsbG8tbmVhci8uL25vZGVfbW9kdWxlcy9AaGVyZS13YWxsZXQvY29yZS9idWlsZC93YWxsZXQuanM/YjU4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5IZXJlV2FsbGV0ID0gdm9pZCAwO1xuY29uc3QgbmVhcl9hcGlfanNfMSA9IHJlcXVpcmUoXCJuZWFyLWFwaS1qc1wiKTtcbmNvbnN0IHByb3ZpZGVyc18xID0gcmVxdWlyZShcIm5lYXItYXBpLWpzL2xpYi9wcm92aWRlcnNcIik7XG5jb25zdCBrZXlfcGFpcl8xID0gcmVxdWlyZShcIm5lYXItYXBpLWpzL2xpYi91dGlscy9rZXlfcGFpclwiKTtcbmNvbnN0IGpzX3NoYTI1Nl8xID0gcmVxdWlyZShcImpzLXNoYTI1NlwiKTtcbmNvbnN0IGNyeXB0b18xID0gcmVxdWlyZShcImNyeXB0b1wiKTtcbmNvbnN0IGJuX2pzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImJuLmpzXCIpKTtcbmNvbnN0IEhlcmVLZXlTdG9yZV8xID0gcmVxdWlyZShcIi4vSGVyZUtleVN0b3JlXCIpO1xuY29uc3QgcHJvdmlkZXJfMSA9IHJlcXVpcmUoXCIuL3Byb3ZpZGVyXCIpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuY29uc3QgaGVyZV9wcm92aWRlcl8xID0gcmVxdWlyZShcIi4vaGVyZS1wcm92aWRlclwiKTtcbmNvbnN0IGFjdGlvbnNfMSA9IHJlcXVpcmUoXCIuL2FjdGlvbnNcIik7XG5jb25zdCBXaWRnZXRTdHJhdGVneV8xID0gcmVxdWlyZShcIi4vV2lkZ2V0U3RyYXRlZ3lcIik7XG5jb25zdCBuZXAwMzE0XzEgPSByZXF1aXJlKFwiLi9uZXAwMzE0XCIpO1xuY2xhc3MgQWNjZXNzRGVuaWVkIGV4dGVuZHMgRXJyb3Ige1xufVxuY2xhc3MgSGVyZVdhbGxldCB7XG4gICAgY29uc3RydWN0b3IoeyBub2RlVXJsLCBuZXR3b3JrSWQgPSBcIm1haW5uZXRcIiwgYXV0aFN0b3JhZ2UgPSBuZXcgSGVyZUtleVN0b3JlXzEuSGVyZUtleVN0b3JlKCksIGRlZmF1bHRTdHJhdGVneSA9ICgpID0+IG5ldyBXaWRnZXRTdHJhdGVneV8xLldpZGdldFN0cmF0ZWd5KCksIGRlZmF1bHRQcm92aWRlciA9IGhlcmVfcHJvdmlkZXJfMS5wcm94eVByb3ZpZGVyLCB9ID0ge30pIHtcbiAgICAgICAgdGhpcy5hdXRoU3RvcmFnZSA9IGF1dGhTdG9yYWdlO1xuICAgICAgICB0aGlzLmRlZmF1bHRQcm92aWRlciA9IGRlZmF1bHRQcm92aWRlcjtcbiAgICAgICAgdGhpcy5kZWZhdWx0U3RyYXRlZ3kgPSBkZWZhdWx0U3RyYXRlZ3k7XG4gICAgICAgIGNvbnN0IHNpZ25lciA9IG5ldyBuZWFyX2FwaV9qc18xLkluTWVtb3J5U2lnbmVyKHRoaXMuYXV0aFN0b3JhZ2UpO1xuICAgICAgICBjb25zdCBycGMgPSBuZXcgcHJvdmlkZXJzXzEuSnNvblJwY1Byb3ZpZGVyKHsgdXJsOiBub2RlVXJsICE9PSBudWxsICYmIG5vZGVVcmwgIT09IHZvaWQgMCA/IG5vZGVVcmwgOiBgaHR0cHM6Ly9ycGMuJHtuZXR3b3JrSWR9Lm5lYXIub3JnYCB9KTtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbmVhcl9hcGlfanNfMS5Db25uZWN0aW9uLmZyb21Db25maWcoe1xuICAgICAgICAgICAganN2bUFjY291bnRJZDogYGpzdm0uJHtuZXR3b3JrSWR9YCxcbiAgICAgICAgICAgIHByb3ZpZGVyOiBycGMsXG4gICAgICAgICAgICBuZXR3b3JrSWQsXG4gICAgICAgICAgICBzaWduZXIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgcnBjKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uLnByb3ZpZGVyO1xuICAgIH1cbiAgICBnZXQgc2lnbmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uLnNpZ25lcjtcbiAgICB9XG4gICAgZ2V0IG5ldHdvcmtJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5uZXR3b3JrSWQ7XG4gICAgfVxuICAgIGFjY291bnQoaWQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGFjY291bnRJZCA9IGlkICE9PSBudWxsICYmIGlkICE9PSB2b2lkIDAgPyBpZCA6ICh5aWVsZCB0aGlzLmF1dGhTdG9yYWdlLmdldEFjdGl2ZUFjY291bnQodGhpcy5uZXR3b3JrSWQpKTtcbiAgICAgICAgICAgIGlmIChhY2NvdW50SWQgPT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQWNjZXNzRGVuaWVkKFwiV2FsbGV0IG5vdCBzaWduZWQgaW5cIik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IG5lYXJfYXBpX2pzXzEuQWNjb3VudCh0aGlzLmNvbm5lY3Rpb24sIGFjY291bnRJZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpc1NpZ25lZEluKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgaWQgPSB5aWVsZCB0aGlzLmF1dGhTdG9yYWdlLmdldEFjdGl2ZUFjY291bnQodGhpcy5uZXR3b3JrSWQpO1xuICAgICAgICAgICAgcmV0dXJuIGlkICE9IG51bGw7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzaWduT3V0KCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgYWNjb3VudElkID0geWllbGQgdGhpcy5hdXRoU3RvcmFnZS5nZXRBY3RpdmVBY2NvdW50KHRoaXMubmV0d29ya0lkKTtcbiAgICAgICAgICAgIGlmIChhY2NvdW50SWQgPT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQWNjZXNzRGVuaWVkKFwiV2FsbGV0IG5vdCBzaWduZWQgaW5cIik7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSB5aWVsZCB0aGlzLmF1dGhTdG9yYWdlLmdldEtleSh0aGlzLm5ldHdvcmtJZCwgYWNjb3VudElkKTtcbiAgICAgICAgICAgIGlmIChrZXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHB1YmxpY0tleSA9IGtleS5nZXRQdWJsaWNLZXkoKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHlpZWxkIHRoaXMuc2lsZW50U2lnbkFuZFNlbmRUcmFuc2FjdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIHJlY2VpdmVySWQ6IGFjY291bnRJZCxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogW3sgdHlwZTogXCJEZWxldGVLZXlcIiwgcGFyYW1zOiB7IHB1YmxpY0tleSB9IH1dLFxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB5aWVsZCB0aGlzLmF1dGhTdG9yYWdlLnJlbW92ZUtleSh0aGlzLm5ldHdvcmtJZCwgYWNjb3VudElkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldEhlcmVCYWxhbmNlKGlkKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBhY2NvdW50ID0geWllbGQgdGhpcy5hY2NvdW50KGlkKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRyYWN0SWQgPSB0aGlzLm5ldHdvcmtJZCA9PT0gXCJtYWlubmV0XCIgPyBcImhlcmUuc3RvcmFnZS5uZWFyXCIgOiBcImhlcmUuc3RvcmFnZS50ZXN0bmV0XCI7XG4gICAgICAgICAgICBjb25zdCBoZXJlQ29pbnMgPSB5aWVsZCBhY2NvdW50XG4gICAgICAgICAgICAgICAgLnZpZXdGdW5jdGlvbih7XG4gICAgICAgICAgICAgICAgYXJnczogeyBhY2NvdW50X2lkOiBhY2NvdW50LmFjY291bnRJZCB9LFxuICAgICAgICAgICAgICAgIG1ldGhvZE5hbWU6IFwiZnRfYmFsYW5jZV9vZlwiLFxuICAgICAgICAgICAgICAgIGNvbnRyYWN0SWQsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiBcIjBcIik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGJuX2pzXzEuZGVmYXVsdChoZXJlQ29pbnMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0QXZhaWxhYmxlQmFsYW5jZShpZCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgYWNjb3VudCA9IHlpZWxkIHRoaXMuYWNjb3VudChpZCk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB5aWVsZCBhY2NvdW50LmdldEFjY291bnRCYWxhbmNlKCk7XG4gICAgICAgICAgICBjb25zdCBoZXJlQmFsYW5jZSA9IHlpZWxkIHRoaXMuZ2V0SGVyZUJhbGFuY2UoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgYm5fanNfMS5kZWZhdWx0KHJlc3VsdC5hdmFpbGFibGUpLmFkZChuZXcgYm5fanNfMS5kZWZhdWx0KGhlcmVCYWxhbmNlKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRBY2NvdW50cygpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCB0aGlzLmF1dGhTdG9yYWdlLmdldEFjY291bnRzKHRoaXMubmV0d29ya0lkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldEFjY291bnRJZCgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGFjY291bnRJZCA9IHlpZWxkIHRoaXMuYXV0aFN0b3JhZ2UuZ2V0QWN0aXZlQWNjb3VudCh0aGlzLm5ldHdvcmtJZCk7XG4gICAgICAgICAgICBpZiAoYWNjb3VudElkID09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFjY2Vzc0RlbmllZChcIldhbGxldCBub3Qgc2lnbmVkIGluXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGFjY291bnRJZDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN3aXRjaEFjY291bnQoaWQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHlpZWxkIHRoaXMuYXV0aFN0b3JhZ2UuZ2V0S2V5KHRoaXMubmV0d29ya0lkLCBpZCk7XG4gICAgICAgICAgICBpZiAoa2V5ID09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBY2NvdW50ICR7aWR9IG5vdCBzaWduZWQgaW5gKTtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMuYXV0aFN0b3JhZ2Uuc2V0QWN0aXZlQWNjb3VudCh0aGlzLm5ldHdvcmtJZCwgaWQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2lnbkluKF9hID0ge30pIHtcbiAgICAgICAgdmFyIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICAgICAgdmFyIHsgY29udHJhY3RJZCwgYWxsb3dhbmNlLCBtZXRob2ROYW1lcyA9IFtdIH0gPSBfYSwgZGVsZWdhdGUgPSBfX3Jlc3QoX2EsIFtcImNvbnRyYWN0SWRcIiwgXCJhbGxvd2FuY2VcIiwgXCJtZXRob2ROYW1lc1wiXSk7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBpZiAoY29udHJhY3RJZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBhY2NvdW50SWQgfSA9IHlpZWxkIHRoaXMuYXV0aGVudGljYXRlKGRlbGVnYXRlKTtcbiAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSByYW5kb20ga2V5cGFpclxuICAgICAgICAgICAgICAgIHlpZWxkIHRoaXMuYXV0aFN0b3JhZ2Uuc2V0S2V5KHRoaXMubmV0d29ya0lkLCBhY2NvdW50SWQsIGtleV9wYWlyXzEuS2V5UGFpckVkMjU1MTkuZnJvbVJhbmRvbSgpKTtcbiAgICAgICAgICAgICAgICB5aWVsZCB0aGlzLmF1dGhTdG9yYWdlLnNldEFjdGl2ZUFjY291bnQodGhpcy5uZXR3b3JrSWQsIGFjY291bnRJZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjY291bnRJZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGVnYXRlLnN0cmF0ZWd5ID0gKF9iID0gZGVsZWdhdGUuc3RyYXRlZ3kpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRoaXMuZGVmYXVsdFN0cmF0ZWd5KCk7XG4gICAgICAgICAgICBkZWxlZ2F0ZS5wcm92aWRlciA9IChfYyA9IGRlbGVnYXRlLnByb3ZpZGVyKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiB0aGlzLmRlZmF1bHRQcm92aWRlcjtcbiAgICAgICAgICAgIChfZCA9IGRlbGVnYXRlLm9uSW5pdGlhbGl6ZWQpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5jYWxsKGRlbGVnYXRlKTtcbiAgICAgICAgICAgIChfZiA9IChfZSA9IGRlbGVnYXRlLnN0cmF0ZWd5KSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Uub25Jbml0aWFsaXplZCkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLmNhbGwoX2UpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY2Nlc3NLZXkgPSBuZWFyX2FwaV9qc18xLktleVBhaXIuZnJvbVJhbmRvbShcImVkMjU1MTlcIik7XG4gICAgICAgICAgICAgICAgY29uc3QgcGVybWlzc2lvbiA9IHsgcmVjZWl2ZXJJZDogY29udHJhY3RJZCwgbWV0aG9kTmFtZXMsIGFsbG93YW5jZSB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCBkZWxlZ2F0ZS5wcm92aWRlcihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRlbGVnYXRlKSwgeyByZXF1ZXN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNhbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldHdvcms6IHRoaXMubmV0d29ya0lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJBZGRLZXlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVibGljS2V5OiBhY2Nlc3NLZXkuZ2V0UHVibGljS2V5KCkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzS2V5OiB7IHBlcm1pc3Npb24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgfSB9KSk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuYWNjb3VudF9pZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiVHJhbnNhY3Rpb24gaXMgZmFpbGVkXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB5aWVsZCB0aGlzLmF1dGhTdG9yYWdlLnNldEtleSh0aGlzLm5ldHdvcmtJZCwgZGF0YS5hY2NvdW50X2lkLCBhY2Nlc3NLZXkpO1xuICAgICAgICAgICAgICAgIHlpZWxkIHRoaXMuYXV0aFN0b3JhZ2Uuc2V0QWN0aXZlQWNjb3VudCh0aGlzLm5ldHdvcmtJZCwgZGF0YS5hY2NvdW50X2lkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5hY2NvdW50X2lkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgKDAsIHV0aWxzXzEuaW50ZXJuYWxUaHJvdykoZXJyb3IsIGRlbGVnYXRlKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNpbGVudFNpZ25BbmRTZW5kVHJhbnNhY3Rpb24oeyBhY3Rpb25zLCByZWNlaXZlcklkLCBzaWduZXJJZCB9KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBhY2NvdW50ID0geWllbGQgdGhpcy5hY2NvdW50KHNpZ25lcklkKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsS2V5ID0geWllbGQgdGhpcy5hdXRoU3RvcmFnZS5nZXRLZXkodGhpcy5uZXR3b3JrSWQsIGFjY291bnQuYWNjb3VudElkKTtcbiAgICAgICAgICAgIGlmIChsb2NhbEtleSA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBY2Nlc3NEZW5pZWQoKTtcbiAgICAgICAgICAgIGNvbnN0IHB1YmxpY0tleSA9IGxvY2FsS2V5LmdldFB1YmxpY0tleSgpO1xuICAgICAgICAgICAgY29uc3QgYWNjZXNzS2V5cyA9IHlpZWxkIGFjY291bnQuZ2V0QWNjZXNzS2V5cygpO1xuICAgICAgICAgICAgY29uc3QgY2FsbCA9IHsgcmVjZWl2ZXJJZCwgYWN0aW9ucyB9O1xuICAgICAgICAgICAgY29uc3QgaXNWYWxpZCA9IGFjY2Vzc0tleXMuc29tZSgodikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh2LnB1YmxpY19rZXkgIT09IHB1YmxpY0tleS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc18xLmlzVmFsaWRBY2Nlc3NLZXkpKGFjY291bnQuYWNjb3VudElkLCB2LCBjYWxsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGlzVmFsaWQgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBY2Nlc3NEZW5pZWQoKTtcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCBhY2NvdW50LnNpZ25BbmRTZW5kVHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgICAgIGFjdGlvbnM6IGFjdGlvbnMubWFwKChhKSA9PiAoMCwgYWN0aW9uc18xLmNyZWF0ZUFjdGlvbikoYSkpLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVySWQ6IHJlY2VpdmVySWQgIT09IG51bGwgJiYgcmVjZWl2ZXJJZCAhPT0gdm9pZCAwID8gcmVjZWl2ZXJJZCA6IGFjY291bnQuYWNjb3VudElkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzaWduQW5kU2VuZFRyYW5zYWN0aW9uKG9wdHMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaDtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgc2lnbmVySWQsIHJlY2VpdmVySWQsIGFjdGlvbnMgfSA9IG9wdHMsIGFyZ3MgPSBfX3Jlc3Qob3B0cywgW1wic2lnbmVySWRcIiwgXCJyZWNlaXZlcklkXCIsIFwiYWN0aW9uc1wiXSk7XG4gICAgICAgICAgICBjb25zdCBkZWxlZ2F0ZSA9IGFyZ3M7XG4gICAgICAgICAgICBkZWxlZ2F0ZS5zdHJhdGVneSA9IChfYSA9IGRlbGVnYXRlLnN0cmF0ZWd5KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLmRlZmF1bHRTdHJhdGVneSgpO1xuICAgICAgICAgICAgZGVsZWdhdGUucHJvdmlkZXIgPSAoX2IgPSBkZWxlZ2F0ZS5wcm92aWRlcikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5kZWZhdWx0UHJvdmlkZXI7XG4gICAgICAgICAgICAoX2MgPSBkZWxlZ2F0ZS5vbkluaXRpYWxpemVkKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChkZWxlZ2F0ZSk7XG4gICAgICAgICAgICAoX2UgPSAoX2QgPSBkZWxlZ2F0ZS5zdHJhdGVneSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLm9uSW5pdGlhbGl6ZWQpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5jYWxsKF9kKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0geWllbGQgdGhpcy5zaWxlbnRTaWduQW5kU2VuZFRyYW5zYWN0aW9uKHsgcmVjZWl2ZXJJZCwgYWN0aW9ucywgc2lnbmVySWQgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3VjY2VzcyA9IHsgc3RhdHVzOiBwcm92aWRlcl8xLkhlcmVQcm92aWRlclN0YXR1cy5TVUNDRVNTLCBwYXlsb2FkOiByZXN1bHQgPT09IG51bGwgfHwgcmVzdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXN1bHQudHJhbnNhY3Rpb25fb3V0Y29tZS5pZCB9O1xuICAgICAgICAgICAgICAgIChfZiA9IGRlbGVnYXRlLm9uU3VjY2VzcykgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLmNhbGwoZGVsZWdhdGUsIHN1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIChfaCA9IChfZyA9IGRlbGVnYXRlLnN0cmF0ZWd5KSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cub25TdWNjZXNzKSA9PT0gbnVsbCB8fCBfaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2guY2FsbChfZywgc3VjY2Vzcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgc2lsZW50IHNpZ24gcmV0dXJuIEFjY2Vzc0RlbmllZCBvciBOb3RFbm91Z2hBbGxvd2FuY2Ugd2UgcmVxdWVzdCBtb2JpbGUgd2FsbGV0XG4gICAgICAgICAgICAgICAgICAgIC8vIE9SIGl0cyBqdXN0IHRyYW5zYWN0aW9uIGVycm9yXG4gICAgICAgICAgICAgICAgICAgIGlmICghKGUgaW5zdGFuY2VvZiBBY2Nlc3NEZW5pZWQpICYmIChlID09PSBudWxsIHx8IGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGUudHlwZSkgIT09IFwiTm90RW5vdWdoQWxsb3dhbmNlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCB1dGlsc18xLmludGVybmFsVGhyb3cpKGUsIGRlbGVnYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIGRlbGVnYXRlLnByb3ZpZGVyKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVsZWdhdGUpLCB7IHJlcXVlc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNhbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbnM6IFt7IGFjdGlvbnM6ICgwLCB1dGlsc18xLnNlcmlhbGl6ZUFjdGlvbnMpKGFjdGlvbnMpLCByZWNlaXZlcklkLCBzaWduZXJJZCB9XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXR3b3JrOiB0aGlzLm5ldHdvcmtJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5wYXlsb2FkID09IG51bGwgfHwgZGF0YS5hY2NvdW50X2lkID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiVHJhbnNhY3Rpb24gbm90IGZvdW5kLCBidXQgbWF5YmUgZXhlY3V0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIHRoaXMucnBjLnR4U3RhdHVzKGRhdGEucGF5bG9hZCwgZGF0YS5hY2NvdW50X2lkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICgwLCB1dGlsc18xLmludGVybmFsVGhyb3cpKGVycm9yLCBkZWxlZ2F0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHZlcmlmeU1lc3NhZ2VORVAwNDEzKHJlcXVlc3QsIHJlc3VsdCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgaXNTaWduYXR1cmVWYWxpZCA9ICgwLCBuZXAwMzE0XzEudmVyaWZ5U2lnbmF0dXJlKShyZXF1ZXN0LCByZXN1bHQpO1xuICAgICAgICAgICAgaWYgKCFpc1NpZ25hdHVyZVZhbGlkKVxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiSW5jb3JyZWN0IHNpZ25hdHVyZVwiKTtcbiAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSB5aWVsZCB0aGlzLmFjY291bnQocmVzdWx0LmFjY291bnRJZCk7XG4gICAgICAgICAgICBjb25zdCBrZXlzID0geWllbGQgYWNjb3VudC5nZXRBY2Nlc3NLZXlzKCk7XG4gICAgICAgICAgICBjb25zdCBpc0Z1bGxBY2Nlc3MgPSBrZXlzLnNvbWUoKGspID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoay5wdWJsaWNfa2V5ICE9PSByZXN1bHQucHVibGljS2V5KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGsuYWNjZXNzX2tleS5wZXJtaXNzaW9uICE9PSBcIkZ1bGxBY2Nlc3NcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIWlzRnVsbEFjY2VzcylcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlNpZ25lciBwdWJsaWMga2V5IGlzIG5vdCBmdWxsIGFjY2Vzc1wiKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXV0aGVudGljYXRlKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHNpZ25SZXF1ZXN0ID0ge1xuICAgICAgICAgICAgICAgIG5vbmNlOiAoX2EgPSBvcHRpb25zLm5vbmNlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAoMCwgY3J5cHRvXzEucmFuZG9tQnl0ZXMpKDMyKSxcbiAgICAgICAgICAgICAgICByZWNpcGllbnQ6IChfYiA9IG9wdGlvbnMucmVjaXBpZW50KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB3aW5kb3cubG9jYXRpb24uaG9zdCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAoX2MgPSBvcHRpb25zLm1lc3NhZ2UpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IFwiQXV0aGVudGljYXRlXCIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3Qgc2lnbmVkID0geWllbGQgdGhpcy5zaWduTWVzc2FnZShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHNpZ25SZXF1ZXN0KSwgb3B0aW9ucykpO1xuICAgICAgICAgICAgeWllbGQgdGhpcy52ZXJpZnlNZXNzYWdlTkVQMDQxMyhzaWduUmVxdWVzdCwgc2lnbmVkKTtcbiAgICAgICAgICAgIHJldHVybiBzaWduZWQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzaWduTWVzc2FnZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zLnN0cmF0ZWd5ID0gKF9hID0gb3B0aW9ucy5zdHJhdGVneSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy5kZWZhdWx0U3RyYXRlZ3koKTtcbiAgICAgICAgICAgIG9wdGlvbnMucHJvdmlkZXIgPSAoX2IgPSBvcHRpb25zLnByb3ZpZGVyKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmRlZmF1bHRQcm92aWRlcjtcbiAgICAgICAgICAgIChfYyA9IG9wdGlvbnMub25Jbml0aWFsaXplZCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwob3B0aW9ucyk7XG4gICAgICAgICAgICAoX2UgPSAoX2QgPSBvcHRpb25zLnN0cmF0ZWd5KSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Qub25Jbml0aWFsaXplZCkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmNhbGwoX2QpO1xuICAgICAgICAgICAgLy8gTGVnYWN5IGZvcm1hdCB3aXRoIHJlY2VpdmVyIHByb3BlcnR5LCBkb2VzIG5vdCBjb3JyZXNwb25kIHRvIHRoZSBjdXJyZW50IHZlcnNpb24gb2YgdGhlIHN0YW5kYXJkXG4gICAgICAgICAgICBpZiAoXCJyZWNlaXZlclwiIGluIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIHRoaXMubGVnYWN5U2lnbk1lc3NhZ2Uob3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0geWllbGQgb3B0aW9ucy5wcm92aWRlcihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpLCB7IHJlcXVlc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzaWduXCIsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG9wdGlvbnMubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgcmVjaXBpZW50OiBvcHRpb25zLnJlY2lwaWVudCxcbiAgICAgICAgICAgICAgICAgICAgbm9uY2U6IEFycmF5LmZyb20ob3B0aW9ucy5ub25jZSksXG4gICAgICAgICAgICAgICAgICAgIG5ldHdvcms6IHRoaXMubmV0d29ya0lkLFxuICAgICAgICAgICAgICAgIH0gfSkpO1xuICAgICAgICAgICAgaWYgKChkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEucGF5bG9hZCkgPT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlNpZ25hdHVyZSBub3QgZm91bmRcIik7XG4gICAgICAgICAgICBjb25zdCB7IHB1YmxpY0tleSwgc2lnbmF0dXJlLCBhY2NvdW50SWQgfSA9IEpTT04ucGFyc2UoZGF0YS5wYXlsb2FkKTtcbiAgICAgICAgICAgIHJldHVybiB7IHB1YmxpY0tleSwgc2lnbmF0dXJlLCBhY2NvdW50SWQgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxlZ2FjeVNpZ25NZXNzYWdlKF9hKSB7XG4gICAgICAgIHZhciBfYjtcbiAgICAgICAgdmFyIHsgbWVzc2FnZSwgcmVjZWl2ZXIsIG5vbmNlIH0gPSBfYSwgZGVsZWdhdGUgPSBfX3Jlc3QoX2EsIFtcIm1lc3NhZ2VcIiwgXCJyZWNlaXZlclwiLCBcIm5vbmNlXCJdKTtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmIChub25jZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5vbmNlQXJyYXkgPSBuZXcgVWludDhBcnJheSgzMik7XG4gICAgICAgICAgICAgICAgbm9uY2UgPSBbLi4uY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhub25jZUFycmF5KV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkYXRhID0geWllbGQgKChfYiA9IGRlbGVnYXRlLnByb3ZpZGVyKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChkZWxlZ2F0ZSwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWxlZ2F0ZSksIHsgcmVxdWVzdDogeyB0eXBlOiBcInNpZ25cIiwgbWVzc2FnZSwgcmVjZWl2ZXIsIG5vbmNlLCBuZXR3b3JrOiB0aGlzLm5ldHdvcmtJZCB9IH0pKSk7XG4gICAgICAgICAgICBpZiAoKGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5wYXlsb2FkKSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJTaWduYXR1cmUgbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHB1YmxpY0tleSwgc2lnbmF0dXJlLCBhY2NvdW50SWQgfSA9IEpTT04ucGFyc2UoZGF0YS5wYXlsb2FkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzaWduID0gbmV3IFVpbnQ4QXJyYXkoQnVmZmVyLmZyb20oc2lnbmF0dXJlLCBcImJhc2U2NFwiKSk7XG4gICAgICAgICAgICAgICAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KHsgbWVzc2FnZSwgcmVjZWl2ZXIsIG5vbmNlIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1zZyA9IG5ldyBVaW50OEFycmF5KGpzX3NoYTI1Nl8xLnNoYTI1Ni5kaWdlc3QoYE5FUDA0MTM6YCArIGpzb24pKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1ZlcmlmeSA9IGtleV9wYWlyXzEuUHVibGljS2V5LmZyb20ocHVibGljS2V5KS52ZXJpZnkobXNnLCBzaWduKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNWZXJpZnkgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSB5aWVsZCB0aGlzLmFjY291bnQoYWNjb3VudElkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXlzID0geWllbGQgYWNjb3VudC5nZXRBY2Nlc3NLZXlzKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGIgPSBwdWJsaWNLZXkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1ZhbGlkID0ga2V5cy5zb21lKChrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrLnB1YmxpY19rZXkgIT09IHBiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoay5hY2Nlc3Nfa2V5LnBlcm1pc3Npb24gIT09IFwiRnVsbEFjY2Vzc1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZCA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlOiBuZXcgVWludDhBcnJheShCdWZmZXIuZnJvbShzaWduYXR1cmUsIFwiYmFzZTY0XCIpKSxcbiAgICAgICAgICAgICAgICAgICAgcHVibGljS2V5OiBrZXlfcGFpcl8xLlB1YmxpY0tleS5mcm9tKHB1YmxpY0tleSksXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBORVAwNDEzOmAgKyBqc29uLFxuICAgICAgICAgICAgICAgICAgICByZWNlaXZlcixcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudElkLFxuICAgICAgICAgICAgICAgICAgICBub25jZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF9jKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJTaWduYXR1cmUgbm90IGNvcnJlY3RcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzaWduQW5kU2VuZFRyYW5zYWN0aW9ucyhfYSkge1xuICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qO1xuICAgICAgICB2YXIgeyB0cmFuc2FjdGlvbnMgfSA9IF9hLCBkZWxlZ2F0ZSA9IF9fcmVzdChfYSwgW1widHJhbnNhY3Rpb25zXCJdKTtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGRlbGVnYXRlLnN0cmF0ZWd5ID0gKF9iID0gZGVsZWdhdGUuc3RyYXRlZ3kpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRoaXMuZGVmYXVsdFN0cmF0ZWd5KCk7XG4gICAgICAgICAgICBkZWxlZ2F0ZS5wcm92aWRlciA9IChfYyA9IGRlbGVnYXRlLnByb3ZpZGVyKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiB0aGlzLmRlZmF1bHRQcm92aWRlcjtcbiAgICAgICAgICAgIChfZCA9IGRlbGVnYXRlLm9uSW5pdGlhbGl6ZWQpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5jYWxsKGRlbGVnYXRlKTtcbiAgICAgICAgICAgIChfZiA9IChfZSA9IGRlbGVnYXRlLnN0cmF0ZWd5KSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Uub25Jbml0aWFsaXplZCkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLmNhbGwoX2UpO1xuICAgICAgICAgICAgbGV0IHJlc3VsdHMgPSBbXTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjYWxsIG9mIHRyYW5zYWN0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByID0geWllbGQgdGhpcy5zaWxlbnRTaWduQW5kU2VuZFRyYW5zYWN0aW9uKGNhbGwpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gocik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSByZXN1bHRzLm1hcCgocmVzdWx0KSA9PiByZXN1bHQudHJhbnNhY3Rpb25fb3V0Y29tZS5pZCkuam9pbihcIixcIik7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3VjY2VzcyA9IHsgc3RhdHVzOiBwcm92aWRlcl8xLkhlcmVQcm92aWRlclN0YXR1cy5TVUNDRVNTLCBwYXlsb2FkIH07XG4gICAgICAgICAgICAgICAgKF9nID0gZGVsZWdhdGUub25TdWNjZXNzKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuY2FsbChkZWxlZ2F0ZSwgc3VjY2Vzcyk7XG4gICAgICAgICAgICAgICAgKF9qID0gKF9oID0gZGVsZWdhdGUuc3RyYXRlZ3kpID09PSBudWxsIHx8IF9oID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaC5vblN1Y2Nlc3MpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai5jYWxsKF9oLCBzdWNjZXNzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgc2lsZW50IHNpZ24gcmV0dXJuIGFjY2VzcyBkZW5pZWQgb3Igbm90IGVub3VnaCBiYWxhbmNlIHdlIHJlcXVlc3QgbW9iaWxlIHdhbGxldFxuICAgICAgICAgICAgICAgICAgICAvLyBPUiBpdHMganVzdCB0cmFuc2FjdGlvbiBlcnJvclxuICAgICAgICAgICAgICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgQWNjZXNzRGVuaWVkKSAmJiAoZSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlLnR5cGUpICE9PSBcIk5vdEVub3VnaEFsbG93YW5jZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgdXRpbHNfMS5pbnRlcm5hbFRocm93KShlLCBkZWxlZ2F0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVuY29tcGxldGVkID0gdHJhbnNhY3Rpb25zLnNsaWNlKHJlc3VsdHMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIGRlbGVnYXRlLnByb3ZpZGVyKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVsZWdhdGUpLCB7IHJlcXVlc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNhbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbnM6IHVuY29tcGxldGVkLm1hcCgodHJ4KSA9PiAoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0cngpLCB7IGFjdGlvbnM6ICgwLCB1dGlsc18xLnNlcmlhbGl6ZUFjdGlvbnMpKHRyeC5hY3Rpb25zKSB9KSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldHdvcms6IHRoaXMubmV0d29ya0lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSB9KSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnBheWxvYWQgPT0gbnVsbCB8fCBkYXRhLmFjY291bnRfaWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJUcmFuc2FjdGlvbiBub3QgZm91bmQsIGJ1dCBtYXliZSBleGVjdXRlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlcyA9IGRhdGEucGF5bG9hZC5zcGxpdChcIixcIikubWFwKChpZCkgPT4gdGhpcy5ycGMudHhTdGF0dXMoaWQsIGRhdGEuYWNjb3VudF9pZCkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geWllbGQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHV0aWxzXzEuaW50ZXJuYWxUaHJvdykoZXJyb3IsIGRlbGVnYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLkhlcmVXYWxsZXQgPSBIZXJlV2FsbGV0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2FsbGV0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/wallet.js\n");

/***/ })

};
;